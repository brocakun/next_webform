var e=require("react"),t=require("deepmerge"),r=require("strtotime"),n=require("react/jsx-runtime"),a=require("classnames");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,t}var s=/*#__PURE__*/i(e),l=/*#__PURE__*/o(t),u=/*#__PURE__*/o(r),c=/*#__PURE__*/o(a);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function m(e,t,r){return m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&p(a,r.prototype),a},m.apply(null,arguments)}function b(e){var t="function"==typeof Map?new Map:void 0;return b=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return m(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},b(e)}function h(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(a[r]=e[r]);return a}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e){for(var t=Object.keys(e).length,r=0,n=[],a=0,o=Object.keys(e);a<o.length;a++){var i=o[a];if("#"!==i.charAt(0)&&"type"!==i){var s=e[i];n.push({weight:Math.floor(1e3*(void 0!==s["#weight"]?s["#weight"]:0))+r/t,key:i}),r++}}return n.sort(function(e,t){return e.weight-t.weight}),n.map(function(e){return e.key})}var g=/*#__PURE__*/s.createContext(null),_=function(e){/*#__PURE__*/return n.jsx("div",{dangerouslySetInnerHTML:{__html:e}})},j=function e(t){return t?Object.keys(t).reduce(function(r,n){var a=n.split("][");if(a.length>1)if(r[a[0]]||(r[a[0]]={}),2===a.length)"_item_"===a[1]?r[a[0]]=_(t[n]):r[a[0]][a[1]]=_(t[n]);else if("items"===a[1]||"_item_"===a[1]){var o,i=[].concat(a.slice(2)).join("][");r[a[0]]=d({},r[a[0]],e(((o={})[i]=t[n],o)))}else{var s,l=[].concat(a.slice(1)).join("][");r[a[0]]=d({},r[a[0]],e(d({},r[a[0]],((s={})[l]=t[n],s))))}else r[n]=_(t[n]);return r},{}):null};function w(e){return e.split("][")}function k(e){return e.filter(function(e){return"items"!==e&&"_item_"!==e}).join("][")}function P(e,t,r){for(var n=w(t),a=e,o=0;o<n.length;o++){var i=n[o];if(n.length-1===o)a[i]=r;else if(!a[i]){var s=n[o+1];a[i]=S(s)&&Number(s)>=0?[]:{}}a=a[i]}return e}function O(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}var S=function(e){return Number.isInteger(e)||String(Math.floor(Number(e)))===e},C=function(e){return"function"==typeof e};function q(e){return null!=e&&"function"==typeof e[Symbol.iterator]}var E=function(t){var r=e.useState(!1),n=r[1];r[0]||(t(),n(!0))},F=function(e){var t={};return"string"==typeof e&&e.replace(/(?<=^|;)\s*([^:]+)\s*:\s*([^;]+)\s*/g,function(e,r,n){var a=r.replace(/-./g,function(e){return e[1].toUpperCase()});return t[a]=n}),t},T={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap"},N=function(e){return e.match(/\[(\d.*?)\]/g).pop()},D=function(e,t,r){var n=e.slice();return t.forEach(function(t,a){void 0===n[a]?n[a]=r.cloneUnlessOtherwiseSpecified(t,r):r.isMergeableObject(t)?n[a]=l.default(e[a],t,r):-1===e.indexOf(t)&&n.push(t)}),n};function A(e,t){var r=x(t);if(r.length)for(var n,a=y(r);!(n=a()).done;){var o=n.value,i=t[o]["#id"],s=t[o]["#name"];if("]"===i.charAt(i.length-1)){var l=i.replace(/\[(.+?)\]/g,"["+e+"]"),u=s.replace(/\[(.+?)\]/g,"["+e+"]");t[o]["#id"]=l,t[o]["#name"]=u}else t[o]["#id"]=t[o]["#id"]+"["+e+"]",t[o]["#name"]=t[o]["#name"]+"["+e+"]";A(e,t[o])}}function V(e,t){return e.split(".").reduce(function(e,t){return e?e[t]:null},t||self)}var R=function(e,t){if(t["#date_date_min"]){var r=M(t["#date_date_min"]);if(u.default(e)<u.default(r))return"Date must be on or after "+r+"."}if(t["#date_date_max"]){var n=M(t["#date_date_max"]);if(u.default(e)>u.default(n))return"Date must be on or before "+n+"."}},M=function(e){return"today"===e?(new Date).toISOString().substring(0,10):"number"==typeof u.default(e)?new Date(e).toISOString().split("T")[0]:u.default(e).toISOString().substring(0,10)},I=function(e){var t=e.id,r=e.data,n=e.setData,a=e.setStatus,o=e.setErrors,i=e.apiUrl;try{var s=d({},r,{webform_id:t});return Promise.resolve(fetch(i,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}})).then(function(e){var t=function(){if(!e.ok)return a("error"),Promise.resolve(e.json()).then(function(e){o(j(e.message.error))});a("success"),n({}),o({})}();if(t&&t.then)return t.then(function(){})})}catch(e){return Promise.reject(e)}},W=["#process","#groups","#after_build","#pre_render","#value_callback","#theme_wrappers","#allowed_tags","#attached","#element_validate","#cache","#prefix","#suffix","#webform_children","#webform_parents","#array_parents","#autocomplete_route_parameters","#autocomplete_route_name","#ajax","#ajax_processed","#ajax_prefix","#ajax_suffix","#child_keys","#ajax_attributes","#tabledrag","#sorted","#processed","#after_build_done","#tree"],z=function e(t){return W.forEach(function(e){delete t[e]}),x(t).forEach(function(r){t[r]=e(t[r])}),t},U=function(t){return function(r){return e.useEffect(function(){r.value||!r.element["#default_value"]||r.element["#default_value"].headers||r.setValue(r.element["#default_value"])},[]),/*#__PURE__*/n.jsx(t,d({},r))}},H=function(e){var t=["id","data-drupal-selector","webform-remove-for-attribute"];return Object.keys(e).filter(function(e){return!t.includes(e)}).reduce(function(t,r){return"class"===r?t.className=c.default(e[r]):T[r]?t[T[r]]=e[r]:t[r]=e[r],t},{})},L=function(e){return function(t){var r,a,o,i,s,l,u=d({},H(null!=(r=t.element["#attributes"])?r:{}),null!=(a=t.fieldProps)?a:{});u.style&&(u.style=F(u.style));var c=d({},H(null!=(o=t.element["#label_attributes"])?o:{}),null!=(i=t.labelProps)?i:{});c.style&&(c.style=F(c.style));var f=d({},H(null!=(s=t.element["#wrapper_attributes"])?s:{}),null!=(l=t.wrapperProps)?l:{});return f.style&&(f.style=F(f.style)),/*#__PURE__*/n.jsx(e,d({},t,{fieldProps:u,labelProps:c,wrapperProps:f}))}};function J(e){var t=e.match(/\[name=["|']([A-z][A-z\d-_.:]*)["|']\]$/);return t&&t[1]}function G(e,t){if(O(e[Object.keys(e)[0]]))switch(Object.keys(e[Object.keys(e)[0]])[0]){case"pattern":return"string"==typeof t&&new RegExp(e.value.pattern).test(t);case"!pattern":return"string"==typeof t&&!new RegExp(e.value.pattern).test(t);case"less":return t<e.value.less;case"less_equal":return t<=e.value.less_equal;case"greater":return t>e.value.greater;case"greater_equal":return t>=e.value.greater_equal;case"between":case"!between":var r=e.value.between,n=r.substring(0,r.indexOf(":")),a=r.substring(r.indexOf(":"),r.length-1);return"between"==Object.keys(e)[0]?t>=n&&t<=a:t<n||t>a}else switch(e&&Object.keys(e)[0]){case"empty":return!t;case"filled":return!!t;case"checked":return 1==t;case"unchecked":return 0==t;case"value":return t==e.value;case"!value":return t!=e.value}}var B=function(e){switch(e){case"invisible":case"invisible-slide":case"!visible":return{"#access":!1};case"visible":case"visible-slide":case"!invisible":return{"#access":!0};case"enabled":case"!disabled":return{"#disabled":!1};case"disabled":case"!enabled":return{"#disabled":!0};case"required":case"!optional":return{"#required":!0};case"optional":case"!required":return{"#required":!1};case"checked":case"!unchecked":return{"#checked":!0};case"unchecked":case"!checked":return{"#unchecked":!0};case"readonly":case"!readwrite":return{"#readonly":!0};case"readwrite":case"!readonly":return{"#readonly":!1}}},K=function(e,t){var r=function(e,t){var r,n={},a={},o={};if(e&&!Object.keys(e).includes("headers")){r=e;for(var i=0,s=Object.keys(r);i<s.length;i++){var l=s[i];n[l]={},a[l]={},o[l]={};for(var u=0,c=Object.keys(r[l]);u<c.length;u++){var d=c[u];if(isNaN(Number(d))){var f,p=J(d);if(Object.prototype.hasOwnProperty.call(t,p)&&"string"!=typeof t[p]&&"boolean"!=typeof t[p]){console.warn('Unexpected type "'+typeof t[p]+'" for element "'+p+'"');continue}n[l][p]=G(r[l][d],null!=(f=t[p])?f:void 0)}else if("or"!==r[l][d]&&"xor"!==r[l][d]){var m,b=J(Object.keys(r[l][d])[0]),h=Object.values(r[l][d])[0];if(Object.prototype.hasOwnProperty.call(t,b)&&"string"!=typeof t[b]&&"boolean"!=typeof t[b]){console.warn('Unexpected type "'+typeof t[b]+'" for element "'+b+'"');continue}if(Object.values(r[l]).includes("or"))a[l][b]=G(h,null!=(m=t[b])?m:void 0);else if(Object.values(r[l]).includes("xor")){var v;o[l][b]=G(h,null!=(v=t[b])?v:void 0)}}}}}return{allConditionsForTrue:n,anyConditionForTrue:a,oneConditionForTrue:o,webformStates:r}}(e,t),n=r.allConditionsForTrue,a=r.anyConditionForTrue,o=r.oneConditionForTrue,i=r.webformStates;if(i&&0!==Object.keys(i).length&&Object.keys(i)[0].length){for(var s={},l=0,u=Object.keys(i);l<u.length;l++){var c=u[l];Object.keys(n[c]).length&&Object.values(n[c]).every(function(e){return!0===e})||Object.keys(a[c]).length&&Object.values(a[c]).includes(!0)||Object.keys(o[c]).length&&1==Object.values(o[c]).filter(function(e){return 1==e}).length?Object.assign(s,B(c)):Object.assign(s,B("!"+c))}return s}},X=function(t){return function(r){var a=e.useState({}),o=a[0],i=a[1],s=e.useContext(g).data,l=r.element,u=l.add?l["#_webform_states"]:l["#states"],c=function(e){if(!e||Object.keys(e).includes("headers"))return[];for(var t=[],r=0,n=Object.keys(e);r<n.length;r++)for(var a=n[r],o=0,i=Object.keys(e[a]);o<i.length;o++){var s=i[o];if(isNaN(Number(s))){var l=J(s);t.push(l)}else if("or"!==e[a][s]&&"xor"!==e[a][s]){var u=J(Object.keys(e[a][s])[0]);t.push(u)}}return t}(u);return e.useEffect(function(){i(K(u,s))},[]),e.useEffect(function(){i(K(u,s))},c.map(function(e){return s[e]})),/*#__PURE__*/n.jsx(t,d({},r,{element:d({},l,o)}))}},$=["children","label","labelProps","labelFor","isRequired","description","descriptionDisplay","descriptionProps","labelDisplay","error","access"],Y=function(e){var t=e.children,r=e.label,a=e.labelProps,o=void 0===a?{}:a,i=e.labelFor,s=e.isRequired,l=e.description,u=e.descriptionDisplay,f=e.descriptionProps,p=void 0===f?{}:f,m=e.labelDisplay,b=void 0===m?"before":m,v=e.error,y=e.access,x=h(e,$),g=c.default(o.className,{"required-field":s,"visually-hidden":"invisible"===b}),_=c.default(p.className,{"visually-hidden":"invisible"===u}),j=/*#__PURE__*/n.jsx("label",d({},o,{className:g,htmlFor:i,children:r}));return y?/*#__PURE__*/n.jsxs("div",d({},x,{children:[/*#__PURE__*/n.jsx("style",{suppressHydrationWarning:!0,children:"\n.required-field:after {\n  content: ' *';\n  color: red;\n}\n.invalid-feedback {\n  color: red;\n}\n.visually-hidden {\n  position: absolute !important;\n  clip: rect(1px, 1px, 1px, 1px);\n  overflow: hidden;\n  height: 1px;\n  width: 1px;\n  word-wrap: normal;\n}\n        "}),!["after","none"].includes(b)&&j,"before"===u&&l&&/*#__PURE__*/n.jsx("div",d({},p,{children:l})),t,("after"===u||"invisible"===u)&&l&&/*#__PURE__*/n.jsx("div",d({},p,{className:_,children:l})),"after"===b&&j,v&&/*#__PURE__*/n.jsx("div",{className:"invalid-feedback",children:v})]})):null},Q=["children","label","labelProps","labelDisplay","labelFor","description","descriptionDisplay","descriptionProps","isRequired","error","access"],Z=function(e){var t=e.children,r=e.label,a=e.labelProps,o=void 0===a?{}:a,i=e.description,s=e.descriptionDisplay,l=e.descriptionProps,u=void 0===l?{}:l,f=e.isRequired,p=e.error,m=e.access,b=h(e,Q),v=c.default(o.className,{"required-field":f}),y=c.default(u.className,{"visually-hidden":"invisible"===s}),x=/*#__PURE__*/n.jsx("legend",d({},o,{className:v,children:r}));return m?/*#__PURE__*/n.jsxs("fieldset",d({},b,{children:[/*#__PURE__*/n.jsx("style",{suppressHydrationWarning:!0,children:"\n.required-field:after {\n  content: ' *';\n  color: red;\n}\n.invalid-feedback {\n  color: red;\n}\n.visually-hidden {\n  position: absolute !important;\n  clip: rect(1px, 1px, 1px, 1px);\n  overflow: hidden;\n  height: 1px;\n  width: 1px;\n  word-wrap: normal;\n}\n        "}),x,"before"===s&&i&&/*#__PURE__*/n.jsx("div",d({},u,{className:y,children:i})),t,("after"===s||"invisible"===s)&&i&&/*#__PURE__*/n.jsx("div",d({},u,{className:y,children:i})),p&&/*#__PURE__*/n.jsx("div",{className:"invalid-feedback",children:p})]})):null},ee=function(e,t){return void 0===t&&(t={}),function(r){var a=r.element,o=r.error,i=d({defaultWrapperType:"form_element",displayErrors:!0,labelFor:function(e){return e["#id"]},labelProps:{},wrapperProps:{}},"function"==typeof t?t(a):t),l=i.labelFor,u=i.displayErrors,c=a["#wrapper_type"]?a["#wrapper_type"]:i.defaultWrapperType,f="form_element"===c&&a["#title"]?a["#title_display"]:"none",p="string"==typeof o||/*#__PURE__*/s.isValidElement(o),m="fieldset"!==c?Y:Z,b=d({},r.labelProps,i.labelProps),h=d({},r.wrapperProps,i.wrapperProps);/*#__PURE__*/return n.jsx(m,d({label:a["#title"],isRequired:a["#required"],access:a["#access"],labelDisplay:f,error:u&&p?o:void 0,labelProps:b,description:a["#description"]?/*#__PURE__*/n.jsx("div",{dangerouslySetInnerHTML:{__html:a["#description"]["#markup"]}}):void 0,descriptionDisplay:a["#description_display"]},h,{labelFor:"none"!==f?function(){if("function"==typeof l)return l(a)}():void 0,children:/*#__PURE__*/n.jsx(e,d({},r))}))}},te=X(U(L(ee(function(t){var r=t.element,a=t.setValue,o=t.value,i=void 0===o?"":o,s=t.fieldProps,l=e.useState({}),u=l[0],c=l[1],f=e.useState(null),p=f[0],m=f[1],b=e.useContext(g);return e.useEffect(function(){Array.isArray(r["#autocomplete_items"])?c(r["#autocomplete_items"].reduce(function(e,t){return e[t]=t,e},{})):"string"==typeof r["#autocomplete_items"]?function(){try{return Promise.resolve(fetch(b.apiUrl+"?op=autocomplete_options&id="+b.id+"&options_id="+r["#autocomplete_items"])).then(function(e){function t(t){return Promise.resolve(e.json()).then(function(e){c(e)})}var r=function(){if(!e.ok)return Promise.resolve(e.json()).then(function(e){throw Error(e.message.message)})}();return r&&r.then?r.then(t):t()})}catch(e){return Promise.reject(e)}}():console.warn("Unsupported autocomplete type on element "+r["#name"]+".")},[r["#autocomplete_items"]]),e.useEffect(function(){m(i)},[i]),/*#__PURE__*/n.jsxs(n.Fragment,{children:[/*#__PURE__*/n.jsx("input",d({type:"text",name:r["#webform_key"],onChange:function(e){return function(e){try{return a(u[e.target.value]?e.target.value:""),m(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:r["#disabled"],hidden:!r["#access"],required:r["#required"],readOnly:r["#readonly"],value:null!=p?p:i},s,{id:""+r["#id"],list:r["#webform_key"]+"-datalist"})),/*#__PURE__*/n.jsx("datalist",{id:r["#webform_key"]+"-datalist",children:Object.keys(u).map(function(e,t){/*#__PURE__*/return n.jsx("option",{value:e,children:u[e]},t)})})]})})))),re={number:"number",hidden:"hidden",email:"email",search:"search",tel:"tel",url:"url",textfield:"text"},ne=X(U(L(ee(function(e){var t,r=e.element,a=e.value,o=void 0===a?"":a,i=e.setValue,s=e.fieldProps;return r["#type"]in re||console.warn(r["#type"]+" which was used on "+r["#webform_key"]+" is not supported by WebformText."),/*#__PURE__*/n.jsx(n.Fragment,{children:/*#__PURE__*/n.jsx("input",d({type:null!=(t=re[r["#type"]])?t:r["#type"],name:r["#name"],value:o,onChange:function(e){return function(e){try{return i(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:r["#disabled"],hidden:!r["#access"],required:r["#required"],readOnly:r["#readonly"],placeholder:r["#placeholder"]},s,{id:r["#id"]}))})})))),ae=X(U(L(ee(function(t){var r=t.element,a=t.setValue,o=t.value,i=void 0===o?"":o,s=t.fieldProps,l=e.useState(!1),u=l[0],c=l[1],f="webform_select_other"===r["#type"]?function(){for(var e={},t=0,n=Object.keys(r);t<n.length;t++){var a=n[t];"select"==a&&(e=r[a])}return e}():null;/*#__PURE__*/return n.jsxs(n.Fragment,{children:[/*#__PURE__*/n.jsxs("select",d({name:r["#name"],onChange:function(e){return function(e){try{return"Other"==e.target.value?c(!u):u?(c(!u),a(e.target.value)):a(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},value:i,disabled:r["#disabled"],hidden:!r["#access"],required:r["#required"]},s,{id:r["#id"],children:["select"==r["#webform_plugin_id"]||void 0===r["#webform_plugin_id"]&&"webform_select_other"!==r["#type"]?function(e){for(var t,r=[],n=0,a=Object.keys(e);n<a.length;n++){var o=a[n];o.length?r.push(e[o]):t=e[o]}return r.unshift(t),r}(r["#options"]).map(function(e,t){/*#__PURE__*/return n.jsx("option",{value:e,children:e},t)}):null,"webform_entity_select"==r["#webform_plugin_id"]?Object.keys(r["#options"]).map(function(e){/*#__PURE__*/return n.jsx("option",{value:e,children:r["#options"][e]},e)}):null,"webform_select_other"===r["#type"]&&f["#options"]?/*#__PURE__*/n.jsxs(n.Fragment,{children:[Object.values(f["#options"]).map(function(e,t){if("Other…"!=e)/*#__PURE__*/return n.jsx("option",{value:e.toString(),children:e},t)}),/*#__PURE__*/n.jsx("option",{value:"Other",children:"Other..."})]}):null]})),u?/*#__PURE__*/n.jsx("input",{type:"text",id:r["#webform_key"],name:r["#webform_key"],onInput:function(e){return function(e){try{return a(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},value:i}):null]})})))),oe=X(U(L(ee(function(e){var t=e.element,r=e.value,a=e.setValue;/*#__PURE__*/return n.jsx(n.Fragment,{children:/*#__PURE__*/n.jsx("textarea",d({name:t["#webform_key"],value:void 0===r?"":r,onChange:function(e){return function(e){try{return a(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:t["#disabled"],hidden:!t["#access"],required:t["#required"],readOnly:t["#readonly"],placeholder:t["#placeholder"]},e.fieldProps,{id:t["#id"]}))})})))),ie=function(e){/*#__PURE__*/return n.jsxs("code",{children:[e.error,/*#__PURE__*/n.jsx("pre",{children:JSON.stringify(e.element,null,2)})]})},se=function(t){var r=e.useContext(g).registry,a=t.element,o=t.error;if(r.getComponent(a["#type"])){var i=r.getComponent(a["#type"]);/*#__PURE__*/return n.jsx(i,d({},t))}/*#__PURE__*/return n.jsx(ie,{element:a,error:o})},le=X(L(ee(function(t){var r=t.element,a=t.value,o=t.setValue,i=t.error,s=t.tableProps,l=void 0===s?{}:s,u=t.trProps,c=void 0===u?{}:u,f=t.tdProps,p=void 0===f?{}:f,m=Array.isArray(a)?a:[],b="webform_custom_composite"===r["#type"],h=function(e,t,a){void 0===a&&(a=null);var s=[].concat(r["#parents"],["items",e,"_item_"]),l=d({},t,r.items[e]?{"#access":r["#access"],"#states":r["#_webform_states"],"#parents":s}:{"#default_value":void 0,"#access":r["#access"],"#states":r["#_webform_states"],"#parents":s});/*#__PURE__*/return n.jsx(se,{element:l,setValue:function(t){var r=Array.from(m);a?r[e][a]=t:r[e]=t,o(r)},value:a?m[e][a]:m[e],error:i?i[e]:null},l["#id"])},v=function(e){var t=x(r["#element"]),n=r.items[e]?e:0;if(Array.isArray(t)&&t.length)return t.map(function(t){var a=V(r.items[n]._item_?"items."+n+"._item_."+t:"items."+n+"."+t,r),o=d({},a,{"#webform_key":t,"#id":a["#id"]+"["+e+"]"}),i=JSON.parse(JSON.stringify(o));return A(e,i),h(e,i,t)});var a=d({},r.items[n]._item_,{"#webform_key":r.items[n]._item_["#webform_key"]+"["+e+"]","#id":r.items[n]._item_["#webform_key"]+"["+e+"]"});return h(e,a)},y=r["#cardinality"],g=m.length;e.useEffect(function(){0===g&&(r["#default_value"]&&Array.isArray(r["#default_value"])?o(r["#default_value"]):o([""]))},[]);for(var _=[],j=function(e){var t=d({},r.items[0]._operations_.remove,{"#type":"button","#value":"Remove","#attributes":{class:["webform-button--remove"]}});_.push(/*#__PURE__*/n.jsxs("tr",d({},c,{children:[/*#__PURE__*/n.jsx("td",d({},p,{children:v(e)})),/*#__PURE__*/n.jsx("td",d({},p,{children:/*#__PURE__*/n.jsx(se,{element:t,fieldProps:{onClick:function(t){t.preventDefault(),function(e){if(!q(a))throw new TypeError('"'+typeof a+'" is not iterable');var t=[].concat(a);t.splice(e,1),o(t)}(e)},id:r["#webform_key"]+"-remove-btn-"+e}})}))]}),e))},w=0;w<g;w++)j(w);/*#__PURE__*/return n.jsxs(n.Fragment,{children:[/*#__PURE__*/n.jsx("table",d({style:{width:"100%"}},l,{children:/*#__PURE__*/n.jsx("tbody",{children:_})})),(g<y||!y)&&/*#__PURE__*/n.jsx("div",{children:/*#__PURE__*/n.jsx(se,{element:d({},r.add.submit,{"#type":"button","#attributes":{class:["webform-button--add"]}}),fieldProps:{onClick:function(e){e.preventDefault(),m.push(b?{}:""),o(m)},id:r["#webform_key"]+"-add-btn"}})})]})},{labelFor:!1}))),ue=U(ee(function(e){var t=e.element,r=e.error,a=e.value,o=e.setValue,i=x(t);/*#__PURE__*/return n.jsx(n.Fragment,{children:i.map(function(e){/*#__PURE__*/return n.jsx(se,{element:d({"#webform_key":t["#webform_key"],"#states":t["#states"]},t[e],{"#id":t["#webform_multiple"]?""+t[e]["#id"]+N(t["#webform_key"]):t[e]["#id"]}),value:a&&a[e]?a[e]:"",setValue:function(t){var r;o(d({},a,((r={})[e]=t,r)))},error:r?r[e]:null},e)})})},{displayErrors:!1,defaultWrapperType:"fieldset"})),ce=X(L(ee(function(t){var r=t.element,a=t.fieldProps,o=e.useContext(g),i=o.data,s=o.setData,l=o.errors,u=x(r).map(function(e){var t=r["#states"]?d({},r[e]["#states"],r["#states"]):null;/*#__PURE__*/return n.jsx(se,{element:t?d({},r[e],{"#states":t}):r[e],error:l[r[e]["#webform_key"]],value:i[r[e]["#webform_key"]],setValue:function(t){s(function(n){var a;return d({},n,((a={})[r[e]["#webform_key"]]=t,a))})}},r[e]["#webform_key"])});/*#__PURE__*/return n.jsx(n.Fragment,{children:/*#__PURE__*/n.jsx("div",d({},a,{children:u}))})},{defaultWrapperType:"container"}))),de=X(ee(function(t){var r=t.element,a=t.itemProps,o=void 0===a?{}:a,i=e.useContext(g),s=i.data,l=i.setData,u=i.errors,c=d({style:{flexGrow:1}},o),f=x(r).map(function(t){var a=r["#states"]?d({},r[t]["#states"],r["#states"]):null;/*#__PURE__*/return e.createElement("div",d({},c,{key:r[t]["#webform_key"]}),/*#__PURE__*/n.jsx("div",{children:/*#__PURE__*/n.jsx(se,{element:a?d({},r[t],{"#states":a}):r[t],error:u[r[t]["#webform_key"]],value:s[r[t]["#webform_key"]],setValue:function(e){l(function(n){var a;return d({},n,((a={})[r[t]["#webform_key"]]=e,a))})}})},r[t]["#webform_key"]))});/*#__PURE__*/return n.jsx(n.Fragment,{children:f})},function(e){var t,r;return{wrapperProps:d({},H(null!=(t=e["#attributes"])?t:{}),{style:{display:"flex",boxSizing:"border-box",gap:"1rem",justifyContent:null!=(r=e["#align_items"])?r:"flex-start"}})}})),fe=X(ee(function(t){var r=t.element,a=e.useContext(g),o=a.data,i=a.setData,s=a.errors,l=x(r).map(function(e){var t=r["#states"]?d({},r[e]["#states"],r["#states"]):null;/*#__PURE__*/return n.jsx(se,{element:t?d({},r[e],{"#states":t}):r[e],error:s[r[e]["#webform_key"]],value:o[r[e]["#webform_key"]],setValue:function(t){i(function(n){var a;return d({},n,((a={})[r[e]["#webform_key"]]=t,a))})}},r[e]["#webform_key"])});/*#__PURE__*/return n.jsx(n.Fragment,{children:l})},{defaultWrapperType:"fieldset"})),pe=X(L(function(t){var r=t.element,a=t.error,o=t.labelProps,i=t.fieldProps,s=t.wrapperProps,l=void 0===s?{}:s,u=e.useContext(g),c=u.data,f=u.setData,p=u.errors,m=x(r).map(function(e){var t=r["#states"]?d({},r[e]["#states"],r["#states"]):null;/*#__PURE__*/return n.jsx(se,{element:t?d({},r[e],{"#states":t}):r[e],error:p[r[e]["#webform_key"]],value:c[r[e]["#webform_key"]],setValue:function(t){f(function(n){var a;return d({},n,((a={})[r[e]["#webform_key"]]=t,a))})}},r[e]["#webform_key"])});/*#__PURE__*/return n.jsx(Y,d({label:r["#title"],isRequired:r["#required"],labelDisplay:r["#title_display"],access:r["#access"],settings:null,error:a,labelProps:o},l,{children:/*#__PURE__*/n.jsx("section",d({},i,{style:i.style,children:m}))}))})),me=["data"],be=X(L(function(t){var r=t.element,a=t.error,o=t.wrapperProps,i=void 0===o?{}:o,s=t.fieldProps,l=void 0===s?{}:s,u=t.theadProps,c=void 0===u?{}:u,f=t.tbodyProps,p=void 0===f?{}:f,m=t.trProps,b=void 0===m?{}:m,v=t.tdProps,y=void 0===v?{}:v,g=t.labelProps,_=x(r).map(function(e){return"webform_table_row"!==r[e]["#type"]?/*#__PURE__*/n.jsx("tr",{children:/*#__PURE__*/n.jsx("td",{children:/*#__PURE__*/n.jsxs("div",{children:["The form element ",/*#__PURE__*/n.jsx("em",{children:e})," is not inside a table row. To render the form element, it must be placed inside a table row."]})})},e):/*#__PURE__*/n.jsx(se,{element:d({},r[e],{"#states":r["#states"]}),fieldProps:b,tdProps:y},e)}),j=r["#header"];/*#__PURE__*/return n.jsx(Y,d({label:r["#title"],isRequired:r["#required"],labelDisplay:r["#title_display"],access:r["#access"],settings:null,error:a,labelProps:g},i,{children:/*#__PURE__*/n.jsxs("table",d({},l,{children:[/*#__PURE__*/n.jsx("thead",d({},c,{children:/*#__PURE__*/n.jsx("tr",d({},b,{children:j&&j.length?j.map(function(t,r){var n=t.data,a=h(t,me);/*#__PURE__*/return e.createElement("th",d({},H(a),{key:r}),n["#markup"])}):null}))})),/*#__PURE__*/n.jsx("tbody",d({},p,{children:_}))]}))}))})),he=X(U(L(ee(function(e){var t=e.element,r=e.value,a=void 0===r?0:r,o=e.setValue,i=e.fieldProps,s=/*#__PURE__*/n.jsx("output",{htmlFor:t["#id"],style:{below:{transform:"translateX("+a+"px)",display:"block",position:"absolute",padding:"2px 5px",textAlign:"center",border:"1px solid #bbb",background:"#ededed"},above:{transform:"translateX("+a+"px)",display:"block",position:"absolute",padding:"2px 5px",textAlign:"center",border:"1px solid #bbb",background:"#ededed",bottom:"22px"},left:{marginRight:"5px"},right:{marginLeft:"5px"}}[t["#output"]],name:"result",children:a});/*#__PURE__*/return n.jsxs("div",{className:"form-type-range",style:{display:"block",position:"relative"},children:[t["#output"]&&"left"===t["#output"]?s:null,/*#__PURE__*/n.jsx("input",d({type:t["#type"],name:t["#webform_key"],min:t["#min"]?t["#min"]:null,max:t["#max"]?t["#max"]:null,onChange:function(e){return function(e){try{return o(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:t["#disabled"],hidden:!t["#access"],required:t["#required"],readOnly:t["#readonly"]},i,{id:t["#id"],value:a})),t["#output"]&&"left"!==t["#output"]?s:null]})})))),ve=X(U(L(ee(function(t){var r=t.element,a=t.setValue,o=t.fieldProps,i=t.value;"checkbox"!==r["#type"]&&"radio"!==r["#type"]&&console.warn(r["#type"]+" which was used on "+r["#webform_key"]+" is not supported by WebformCheckbox.");var s=e.useState(null!=i?i:!!r["#checked"]&&r["#checked"]),l=s[0],u=s[1];return e.useEffect(function(){"boolean"==typeof i&&u(i)},[i]),/*#__PURE__*/n.jsx(n.Fragment,{children:/*#__PURE__*/n.jsx("div",{children:/*#__PURE__*/n.jsx("input",d({type:r["#type"],name:r["#name"],onChange:function(e){return function(e){try{return a(e.target.checked),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:r["#disabled"],hidden:!(!r["#access"]||r["#access"]),required:r["#required"],readOnly:r["#readonly"],checked:l,id:r["#id"]},o,{value:r["#return_value"]}))})})},{wrapperProps:{style:{display:"flex"}}})))),ye=X(U(ee(function(t){var r=t.element,a=t.value,o=void 0===a?0:a,i=t.setValue,s=t.fieldProps,l=e.useState(0),u=l[0],c=l[1],f=r["#max"]?r["#max"]:5;/*#__PURE__*/return n.jsx(n.Fragment,{children:/*#__PURE__*/n.jsxs("div",{className:"star-rating",children:[/*#__PURE__*/n.jsx("input",d({defaultValue:o,name:r["#webform_key"],hidden:!0,type:"range"},s,{id:r["#webform_key"]})),/*#__PURE__*/n.jsx("style",{suppressHydrationWarning:!0,children:"\nbutton {\n  backgroundColor: 'transparent',\n  border: 'none',\n  outline: 'none',\n  cursor: 'pointer',\n}\n.on {\n  color: rgb(14 165 233);\n  }\n.off {\ncolor: #ccc;\n}\n.star-rating {\nfont-size: 2rem;\n}\n}"}),Array(f).fill(0).map(function(e,t){/*#__PURE__*/return n.jsx("button",{type:"button",className:(t+=1)<=(u||o)?"on":"off",onClick:function(){return i(t)},onMouseEnter:function(){return c(t)},onMouseLeave:function(){return c(o)},disabled:r["#disabled"],hidden:!r["#access"],children:/*#__PURE__*/n.jsx("span",{className:"star",children:"★"})},t)})]})})}))),xe=X(U(L(function(t){var r=t.element,a=t.error,o=t.setValue,i=t.labelProps,l=t.value,u=t.fieldProps,c=t.wrapperProps,f=void 0===c?{}:c,p=e.useContext(g).registerField,m=e.useState(""),b=m[0],h=m[1],v=e.useState(""),y=v[0],_=v[1];s.useEffect(function(){r["#parents"]&&p(k(r["#parents"]),{validate:function(){if(b!==y)return"The specified email addresses do not match."}})}),e.useEffect(function(){""!==l&&(h(l),_(l))},[l]),e.useEffect(function(){o(b&&y?b!==y?"":b:"")},[b,y]);var j=x(r).map(function(e){/*#__PURE__*/return n.jsx(se,{element:d({},r[e],{"#states":r["#states"]}),error:a?a[e]:null,value:"mail_1"===e?b:y,setValue:function(t){"mail_1"===e?h(t):"mail_2"===e&&_(t)},labelProps:i,fieldProps:u},e)});/*#__PURE__*/return n.jsx(Y,d({isRequired:!1,labelDisplay:"none",error:a,access:r["#access"]},f,{children:j}))}))),ge=X(function(e){var t=e.element,r=e.fieldProps,a=e.labelProps,o=e.wrapperProps;/*#__PURE__*/return n.jsx(Y,d({label:t["#title"],isRequired:t["#required"],labelDisplay:t["#title_display"],access:t["#access"],settings:null,error:e.error,labelProps:void 0===a?{}:a},void 0===o?{}:o,{labelFor:t["#webform_key"],children:/*#__PURE__*/n.jsx("div",d({},void 0===r?{}:r,{id:t["#webform_key"],children:t["#value"]}))}))}),_e=function(e){var t=function(t){e.onClose&&e.onClose(t)};return e.show?/*#__PURE__*/n.jsxs("div",{className:"modal",id:"modal",onClick:t,children:[/*#__PURE__*/n.jsx("style",{suppressHydrationWarning:!0,children:'\n.modal {\n    width: 500px;\n    background: white;\n    border: 1px solid #ccc;\n    transition: 1.1s ease-out;\n    box-shadow: -2rem 2rem 2rem rgba(0, 0, 0, 0.2);\n    filter: blur(0);\n    transform: translate(-50%, -5%);\n    visibility: visible;\n    position: absolute;\n    opacity: 1;\n    left: 50%;\n    z-index: 100;\n}\n.modal.off {\n    opacity: 0;\n    visibility: hidden;\n    filter: blur(8px);\n    transform: scale(0.33);\n    box-shadow: 1rem 0 0 rgba(0, 0, 0, 0.2);\n}\n@supports (offset-rotation: 0deg) {\n    offset-rotation: 0deg;\n    offset-path: path("M 250,100 S -300,500 -700,-200");\n    .modal.off {\n        offset-distance: 100%;\n    }\n}\n@media (prefers-reduced-motion) {\n    .modal {\n        offset-path: none;\n    }\n}\n.modal h2 {\n    border-bottom: 1px solid #ccc;\n    padding: 1rem;\n    margin: 0;\n}\n.modal .content {\n    padding: 1rem;\n}\n.modal .actions {\n    border-top: 1px solid #ccc;\n    background: #eee;\n    padding: 0.5rem 1rem;\n}\n#centered-toggle-button {\n    position: absolute;\n}\n\n'}),/*#__PURE__*/n.jsx("div",{className:"content",children:e.children}),/*#__PURE__*/n.jsx("div",{className:"actions",children:/*#__PURE__*/n.jsx("button",{className:"toggle-button",onClick:t,children:"Close"})})]}):null},je=X(U(L(ee(function(t){var r=t.element,a=t.setValue,o=t.fieldProps,i=t.labelProps,s=e.useState(!1),l=s[0],u=s[1],c=e.useState(!!r["#checked"]&&r["#checked"]),f=c[0],p=c[1],m=e.useState(!r["#access"]||r["#access"]);/*#__PURE__*/return n.jsx(n.Fragment,{children:/*#__PURE__*/n.jsxs("div",{children:[/*#__PURE__*/n.jsx("input",d({type:"checkbox",id:r["#id"],name:r["#webform_key"],onChange:function(e){return function(e){try{return p(!f),a(e.target.value?"1":"0"),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:r["#disabled"],hidden:!m[0],required:r["#required"],readOnly:r["#readonly"],checked:f},o)),/*#__PURE__*/n.jsx(_e,{onClose:function(){return u(!1)},show:l,children:/*#__PURE__*/n.jsx("div",{dangerouslySetInnerHTML:{__html:r["#terms_content"]["#markup"]}})}),/*#__PURE__*/n.jsx("label",d({htmlFor:r["#id"]},i,{children:function(){var e=new RegExp(/(.*){(.*)}(.*)/);if(!e.test(r["#title"]))/*#__PURE__*/return n.jsx(n.Fragment,{children:r["#title"]});var t=e.exec(r["#title"]);/*#__PURE__*/return n.jsxs(n.Fragment,{children:[t[1],/*#__PURE__*/n.jsx("a",{href:"#terms",role:"button",target:"_blank",className:"terms-link",onClick:function(e){e.preventDefault(),u(!l)},children:t[2]}),t[3]]})}()}))]})})},{labelProps:{style:{display:"none"}}})))),we=X(U(L(function(t){var r=t.element,a=t.setValue,o=t.value,i=t.error,l=t.fieldProps,u=t.labelProps,c=t.wrapperProps,f=void 0===c?{}:c,p=e.useContext(g).registerField,m=(null!=o?o:"").split("T"),b=m[0],h=void 0===b?"":b,v=m[1],y=void 0===v?"":v,_={date:h,time:y};s.useEffect(function(){r["#parents"]&&p(k(r["#parents"]),{validate:function(e){if(e){var t=new RegExp("^((19|20)\\d{2})-((0|1)\\d{1})-((0|1|2)\\d{1})T(2[0-3]|[01][0-9]):[0-5][0-9]"),r=new RegExp("^((19|20)\\d{2})-((0|1)\\d{1})-((0|1|2)\\d{1})T(2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9]");return t.test(e)||r.test(e)?void 0:"The value is invalid. Please fill out every field."}}})},[]);var j=x(r);/*#__PURE__*/return n.jsx(Y,d({label:r["#title"],labelDisplay:r["#title_display"],access:r["#access"],isRequired:!1,error:i},f,{children:/*#__PURE__*/n.jsx("div",{id:r["#id"],children:j.map(function(e){/*#__PURE__*/return n.jsx(se,{element:d({},r[e],{"#webform_key":r["#webform_key"],"#access":r[e]["#access"]?r[e]["#access"]:r["#access"],"#disabled":r["#disabled"],"#required":r["#required"],"#date_date_min":r["#date_date_min"],"#date_date_max":r["#date_date_max"],"#date_time_min":r["#date_time_min"],"#date_time_max":r["#date_time_max"],"#states":r["#states"]}),error:i?i[e]:null,setValue:function(t){a(("date"===e?t:h)+"T"+("time"===e?t:y))},labelProps:u,fieldProps:l,value:_[e]?_[e]:""},e)})})}))}))),ke=X(U(L(ee(function(e){var t,r,a=e.element,o=e.setValue,i=e.value;/*#__PURE__*/return n.jsx(n.Fragment,{children:/*#__PURE__*/n.jsx("input",d({type:"time",name:a["#name"],onChange:function(e){return function(e){try{return o(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:a["#disabled"],hidden:!a["#access"],required:a["#required"],readOnly:a["#readonly"],value:void 0===i?"":i},e.fieldProps,{id:a["#id"],min:null!=(t=a["#date_time_min"])?t:null,max:null!=(r=a["#date_time_max"])?r:null}))})})))),Pe=X(U(L(function(t){var r=t.element,a=t.error,o=t.setValue,i=t.fieldProps,l=t.labelProps,u=t.wrapperProps,c=void 0===u?{}:u,f=e.useState({}),p=f[0],m=f[1],b=x(r),h=e.useContext(g).registerField;s.useEffect(function(){r["#parents"]&&h(k(r["#parents"]),{validate:function(e){if(e){var t=new RegExp("^((19|20)\\d{2})-((0|1)\\d{1})-((0|1|2)\\d{1})T(2[0-3]|[01][0-9]):[0-5][0-9]"),n=new RegExp("^((19|20)\\d{2})-((0|1)\\d{1})-((0|1|2)\\d{1})T(2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9]");return t.test(e)||n.test(e)?R(e,r):"The value is invalid. Please fill out every field."}}})},[]),e.useEffect(function(){if(Object.keys(p)[0]&&Object.values(p).every(function(e){return null!==e})){var e,t,n=p.ampm&&"pm"===p.ampm;if(e=p.hour?n?p.hour+12:p.hour:n?12:"00",p.month){var a=r.month["#options"];t=Object.keys(a).find(function(e){return a[e]===p.month})}else t="1";var i=p.day?p.day:"1",s=p.year?p.year:(new Date).getFullYear(),l=e,u=p.minute?p.minute:"00",c=p.second?p.second:null;o(c?s+"-"+v(t)+"-"+v(i)+"T"+v(l)+":"+u+":"+c:s+"-"+v(t)+"-"+v(i)+"T"+v(l)+":"+u)}else Object.values(p).some(function(e){return null!==e})&&o(p)},[p]),e.useEffect(function(){b.map(function(e){m(function(t){var r;return d({},t,((r={})[e]=null,r))})})},[]);var v=function(e){return e<=9?e="0"+e:e};/*#__PURE__*/return n.jsx(Y,d({label:r["#title"],labelDisplay:r["#title_display"],access:r["#access"],isRequired:!1,error:a},c,{children:/*#__PURE__*/n.jsx("div",{id:r["#id"],children:b.map(function(e,t){/*#__PURE__*/return n.jsx(se,{element:d({},r[e],{"#webform_key":r["#webform_key"],"#disabled":r["#disabled"],"#access":r["#access"],"#required":r["#required"],"#states":r["#states"]}),error:a?a[e]:null,setValue:function(t){var r;m(d({},p,((r={})[e]=t,r)))},labelProps:l,fieldProps:i,value:p[e]?p[e]:""},t)})})}))}))),Oe=X(U(L(ee(function(t){var r=t.element,a=t.setValue,o=t.value,i=void 0===o?"":o,l=t.fieldProps,u=e.useContext(g).registerField;return s.useEffect(function(){r["#parents"]&&u(k(r["#parents"]),{validate:function(e){if(e)return R(e,r)}})},[]),/*#__PURE__*/n.jsx(n.Fragment,{children:/*#__PURE__*/n.jsx("input",d({onChange:function(e){return function(e){try{return a(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},type:r["#type"],name:r["#name"],disabled:r["#disabled"],hidden:!r["#access"],required:r["#required"],readOnly:r["#readonly"],value:i},l,{id:r["#id"],min:r["#date_date_min"]?M(r["#date_date_min"]):null,max:r["#date_date_max"]?M(r["#date_date_max"]):null}))})})))),Se=X(U(function(e){var t=e.element;return!1===t["#access"]?null:/*#__PURE__*/n.jsx("div",{children:/*#__PURE__*/n.jsx("label",{children:t["#title"]})})})),Ce=function(t){var r=t.element,a=t.wrapperProps,o=[],i=e.useContext(g),s=i.setData,l={submit:function(){},reset:function(e){e.preventDefault(),s(function(){return{}})}},u=i.registry.getComponent("button");return Object.keys(l).forEach(function(e){r[e]&&o.push(/*#__PURE__*/n.jsx(u,{element:r[e],fieldProps:{type:"submit",onClick:l[e]}},e))}),/*#__PURE__*/n.jsx("div",d({},a,{children:o}))},qe={radios:"radio",checkboxes:"checkbox",webform_radios_other:"radio",webform_checkboxes_other:"checkbox",webform_entity_checkboxes:"checkbox",webform_entity_radios:"radio"},Ee=X(L(ee(function(t){var r=t.element,a=t.value,o=void 0===a?[]:a,i=t.setValue,s=t.error,l=t.fieldProps;if(!(r["#type"]in qe))throw new Error(r["#type"]+" which was used on "+r["#webform_key"]+" is not supported by WebformCheckboxRadioGroup.");var u=e.useState(null),c=u[0],f=u[1],p=e.useState(!1),m=p[0],b=p[1],h=qe[r["#type"]],v="webform_checkboxes_other"===r["#type"]||"webform_radios_other"===r["#type"],g=v?r.other:null,_=function(){var e={},t={};if(v)for(var n=0,a=Object.keys(r);n<a.length;n++){var o=a[n];"radios"!==o&&"checkboxes"!==o||(e=r[o])}else e=r;for(var i=0,s=Object.keys(e["#options"]);i<s.length;i++){var l=s[i];"_other_"!==l&&(t[l]=e["#options"][l])}return t}();e.useEffect(function(){if(r["#default_value"]&&!r["#default_value"].headers){i(r["#default_value"]);var e="string"==typeof r["#default_value"]?[r["#default_value"]]:r["#default_value"],t=e.filter(function(e){return Object.hasOwn(_,e)});if("checkbox"===h&&i(t),v&&Object.keys(e).length!==Object.keys(t).length)for(var n,a=y(e);!(n=a()).done;){var o=n.value;Object.hasOwn(_,o)||f(o)}}},[]),e.useEffect(function(){c&&"checkbox"===h?i([].concat(Array.isArray(o)?o:[],[c])):c&&"radio"===h&&i(c)},[c]);var j=x(r).map(function(e){return"other"!==e&&"radios"!==e&&"checkboxes"!==e?/*#__PURE__*/n.jsx(se,{element:d({},r[e],{"#webform_key":r["#webform_key"],"#states":r["#states"],"#access":r["#access"]}),fieldProps:l,setValue:function(t){if("checkboxes"===r["#type"]||"webform_entity_checkboxes"===r["#type"]){if(!0===t)i([].concat(Array.isArray(o)?o:[],[r[e]["#return_value"]]));else if(Array.isArray(o)&&o.length){var n=o.filter(function(t){return t!==r[e]["#return_value"]});i(n)}}else i(r[e]["#return_value"])},value:Array.isArray(o)&&o.includes(r[e]["#return_value"])||o===r[e]["#return_value"],error:s},e):"checkboxes"==e||"radios"==e?x(r[e]).map(function(t){/*#__PURE__*/return n.jsx(se,{fieldProps:l,element:d({},r[e][t],{"#webform_key":r["#webform_key"],"#states":r["#states"],"#access":r["#access"]}),setValue:function(n){if("checkbox"===r[e][t]["#type"]){if("_other_"===r[e][t]["#return_value"])n?(f(null!=c?c:""),b(!0)):(b(!1),f(null));else if(!0===n)i([].concat(Array.isArray(o)?o:[],[r[e][t]["#return_value"]]));else if(Array.isArray(o)&&o.length){var a=o.filter(function(n){return n!==r[e][t]["#return_value"]});i(a)}}else"_other_"===r[e][t]["#return_value"]?(f(null!=c?c:""),i(null!=c?c:""),b(!0)):(b(!1),f(null),i(r[e][t]["#return_value"]))},value:Array.isArray(o)&&o.includes(r[e][t]["#return_value"])||o===r[e][t]["#return_value"]||"_other_"===r[e][t]["#return_value"]&&m,error:s},t)}):void 0});/*#__PURE__*/return n.jsxs(n.Fragment,{children:[j,v&&m?/*#__PURE__*/n.jsx(se,{element:d({},r,{"#type":g["#type"],"#webform_key":r["#webform_key"],"#title":g["#title"],"#description":g["#description"],"#id":r["#id"]+"-other-input"}),value:c,setValue:function(e){f(e)}}):null]})},{defaultWrapperType:"fieldset",labelFor:!1}))),Fe=L(function(e){/*#__PURE__*/return n.jsx("button",d({type:"button"},e.fieldProps,{children:e.element["#value"]}))}),Te=L(function(t){var r=t.element,a=t.error,o=t.fieldProps,i=void 0===o?{}:o,s=t.tdProps,l=void 0===s?{}:s,u=e.useContext(g),c=u.data,f=u.setData;/*#__PURE__*/return n.jsx("tr",d({},i,{children:x(r).map(function(t){var o,i=r["#states"]?d({},r[t]["#states"],r["#states"]):null,s=r["#states"]?Object.assign({},i,r["#states"]):i;/*#__PURE__*/return e.createElement("td",d({},d({},l,H(null!=(o=r[t]["#wrapper_attributes"])?o:{})),{key:t}),/*#__PURE__*/n.jsx(se,{element:d({},s?d({"#states":s},r[t]):r[t],{"#wrapper_attributes":[]}),error:a,value:c[r[t]["#webform_key"]],setValue:function(e){f(function(n){var a;return d({},n,((a={})[r[t]["#webform_key"]]=e,a))})}},t))})}))}),Ne=function(e){/*#__PURE__*/return n.jsx("pre",{children:/*#__PURE__*/n.jsx("code",{id:"submitted-data",children:JSON.stringify(e.submission)})})},De=X(L(ee(function(t){var r=t.element,a=t.fieldProps,o=e.useContext(g),i=o.data,s=o.setData,l=o.errors,u=x(r).map(function(e){var t=r["#states"]?d({},r[e]["#states"],r["#states"]):null;/*#__PURE__*/return n.jsx(se,{element:d({},r[e],t?{"#states":t,"#access":!0}:{"#access":!0}),error:l[r[e]["#webform_key"]],value:i[r[e]["#webform_key"]],setValue:function(t){s(function(n){var a;return d({},n,((a={})[r[e]["#webform_key"]]=t,a))})}},r[e]["#webform_key"])});/*#__PURE__*/return n.jsx(n.Fragment,{children:/*#__PURE__*/n.jsx("div",d({},a,{children:u}))})},{defaultWrapperType:"container"}))),Ae=function(t){var r=t.elements,a=e.useState(0),o=a[0],i=a[1],s=x(r),l=r[s[o]],u=o>0,c=o===s.length-1,f=r.actions,p=function(e){if(l["#title"]==r[e]["#title"])return{color:"blue"}};/*#__PURE__*/return n.jsxs("div",{children:[/*#__PURE__*/n.jsx("ul",{style:{display:"flex"},children:s.map(function(e){/*#__PURE__*/return n.jsxs("li",{style:p(e),children:[r[e]["#title"],"----",">"]},e)})}),/*#__PURE__*/n.jsx("br",{}),/*#__PURE__*/n.jsxs("h1",{children:["Page Title: ",l["#title"]]}),/*#__PURE__*/n.jsxs("h1",{children:["Current page: ",o+1]}),/*#__PURE__*/n.jsx(De,{element:d({},l)}),u&&/*#__PURE__*/n.jsx("button",{style:{border:"solid"},type:"button",className:"webform-button--previous",onClick:function(){return i(function(e){return e-1})},children:"Previous"}),/*#__PURE__*/n.jsx("button",{style:{border:"solid"},type:"button",className:"webform-button--next",onClick:function(){return i(function(e){return e+1})},children:"Next"}),c&&/*#__PURE__*/n.jsx(se,{element:f})]})},Ve=function e(t){return Object.entries(t).forEach(function(t){for(var r=0,n=Object.entries(t);r<n.length;r++){var a=n[r],o=a[0],i=a[1];"object"==typeof i&&null!==i&&Object.keys(i).includes("#access")&&(t[o]["#access"]=!0,e(t[o]))}}),!0},Re={textfield:ne,number:ne,hidden:ne,email:ne,search:ne,tel:ne,url:ne,textarea:oe,autocomplete:te,checkbox:ve,checkboxes:Ee,entity_autocomplete:te,range:he,radio:ve,radios:Ee,select:ae,webform_autocomplete:te,webform_checkboxes_other:Ee,webform_entity_checkboxes:Ee,webform_entity_radios:Ee,webform_radios_other:Ee,webform_rating:ye,webform_select_other:ae,webform_terms_of_service:je,container:ce,fieldset:fe,webform_flexbox:de,webform_section:pe,webform_table:be,webform_table_row:Te,webform_address:ue,webform_contact:ue,webform_name:ue,webform_link:ue,webform_custom_composite:function(t){var r=t.element,a=t.error,o=t.value,i=t.setValue,s=t.labelProps,l=x(r["#element"]),u=!!r.add;return e.useEffect(function(){r["#default_value"]&&Array.isArray(r["#default_value"])?i(r["#default_value"]):i([{}])},[]),/*#__PURE__*/n.jsx(n.Fragment,{children:u?/*#__PURE__*/n.jsx(n.Fragment,{children:/*#__PURE__*/n.jsx(le,{element:r,value:o,setValue:i,error:a})}):/*#__PURE__*/n.jsx(Y,{label:r["#title"],labelDisplay:r["#title_display"],access:r["#access"],isRequired:!1,error:a,children:l.map(function(e,t){var l=r.items[0][e];/*#__PURE__*/return n.jsx(se,{element:d({},l,{"#webform_key":e,"#states":r["#_webform_states"],"#id":l["#id"],"#default_value":void 0}),value:o&&o[0][e]?o[0][e]:"",setValue:function(t){var r,n;i(o&&o[0]?[d({},o[0],(r={},r[e]=t,r))]:[(n={},n[e]=t,n)])},error:a?a[e]:null,labelProps:s},t)})})})},date:Oe,datelist:Pe,datetime:we,webform_time:ke,button:Fe,submit:Ce,item:Se,value:ge,webform_actions:Ce,webform_email_confirm:xe,webform_multiple:le,confirmation_page:function(e){var t=e.webform;/*#__PURE__*/return n.jsx("div",{children:t.confirmation.message&&t.confirmation.message.length>0?t.confirmation.message:/*#__PURE__*/n.jsxs(n.Fragment,{children:["New submission added to ",/*#__PURE__*/n.jsx("em",{children:t.title}),"."]})})},form_layout:function(t){var r=t.webform,a=t.status,o=e.useContext(g),i=o.registry,s=o.setData,l=o.data,u=o.errors,c=r.elements,f=r.confirmation,p=x(c),m=p.some(function(e){return"webform_wizard_page"===c[e]["#type"]});e.useEffect(function(){"debug"===f.type&&"success"!==a&&window.localStorage.setItem("webformDebugData",JSON.stringify(l))},[l,a,f.type]);var b,h=function(){/*#__PURE__*/return n.jsx(n.Fragment,{children:p.map(function(e){/*#__PURE__*/return n.jsx(se,{element:c[e],setValue:function(t){s(function(r){var n;return d({},r,((n={})[c[e]["#webform_key"]]=t,n))})},value:l[c[e]["#webform_key"]],error:u[c[e]["#webform_key"]]},c[e]["#webform_key"])})})};if("success"===a){if("debug"===f.type){var v="undefined"==typeof window?l:JSON.parse(window.localStorage.getItem("webformDebugData"));/*#__PURE__*/return n.jsx(Ne,{submission:v})}if("page"===f.type||"inline"===f.type)return b=i.getComponent("confirmation_page"),/*#__PURE__*/n.jsx(b,{webform:r,submission:l});if("message"===f.type){var y=i.getComponent("message");/*#__PURE__*/return n.jsxs(n.Fragment,{children:[/*#__PURE__*/n.jsx(y,{type:"success",children:r.confirmation.message&&r.confirmation.message.length>0?r.confirmation.message:/*#__PURE__*/n.jsxs(n.Fragment,{children:["New submission added to ",/*#__PURE__*/n.jsx("em",{children:r.title}),"."]})}),h()]})}if("none"===f.type)return h()}if(m){for(var _=0,j=Object.entries(c);_<j.length;_++){var w=j[_],k=w[0],P=w[1];"object"==typeof P&&null!==P&&Object.keys(P).includes("#access")&&(c[k]["#access"]=!0,Ve(c[k]))}/*#__PURE__*/return n.jsx(Ae,{elements:c})}return h()},message:function(e){/*#__PURE__*/return n.jsx("div",{children:e.children})},webform_wizard_page:De,webform_message:function(e){/*#__PURE__*/return n.jsx("div",{dangerouslySetInnerHTML:{__html:e.element["#message_message"]["#markup"]}})},webform_markup:function(e){/*#__PURE__*/return n.jsx("div",{dangerouslySetInnerHTML:{__html:e.element["#markup"]}})}},Me=new function(e){var t=this;void 0===e&&(e={}),this._registry=void 0,this.getComponent=function(e){var r;return null!=(r=t._registry.get(e))?r:null},this.setComponent=function(e,r){t._registry.set(e,r)},this._registry=new Map,Object.keys(e).forEach(function(r){t._registry.set(r,e[r])})}(Re),Ie=["data","id","customComponents","onSubmit","apiUrl","validate"],We=/*#__PURE__*/function(e){var t,r;function n(t){var r;return(r=e.call(this)||this).response=void 0,r.response=t,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,p(t,r),n}(/*#__PURE__*/b(Error));exports.Webform=function(t){var r=t.data,a=t.id,o=t.customComponents,i=void 0===o?{}:o,u=t.onSubmit,c=t.apiUrl,f=void 0===c?"/api/webform":c,p=t.validate,m=h(t,Ie),b=Me;E(function(){Object.keys(i).forEach(function(e){b.setComponent(e,i[e])})}),e.useEffect(function(){Object.keys(i).forEach(function(e){b.setComponent(e,i[e])})},[i]);var v=e.useState({}),y=v[0],x=v[1],_=e.useState(),j=_[0],w=_[1],k=e.useState({}),O=k[0],S=k[1],q=e.useRef({}),F=s.useCallback(function(e,t){q.current[e]={validate:t.validate}},[]),T=s.useCallback(function(e){delete q.current[e]},[]),N=u||I,A=b.getComponent("form_layout"),V=b.getComponent("message"),R=function(e){var t=Object.keys(q.current).filter(function(e){return C(q.current[e].validate)}),r=t.map(function(t){return r=t,n=e[t],new Promise(function(e){return e(q.current[r].validate(n))});var r,n});return Promise.all(r).then(function(e){return e.reduce(function(e,r,n){return void 0===r||P(e,t[n],r),e},{})})};/*#__PURE__*/return n.jsxs("form",d({},m,{onSubmit:function(e){var t;e.preventDefault(),(t=O,Promise.all([R(t),p?p(t):{}]).then(function(e){return l.default.all([e[0],e[1]],{arrayMerge:D})})).then(function(t){0!==Object.keys(t).length?(w("error"),x(t)):N({id:a,event:e,data:O,setData:S,setStatus:w,setErrors:x,apiUrl:f})})},children:["error"===j?/*#__PURE__*/n.jsx(V,{type:"error",children:"An error occurred. Please try again."}):null,/*#__PURE__*/n.jsx(g.Provider,{value:{id:a,apiUrl:f,data:O,setData:S,setStatus:w,errors:y,registry:b,registerField:F,unregisterField:T},children:/*#__PURE__*/n.jsx(A,{webform:r,status:j})})]}))},exports.WebformContext=g,exports.WebformDefaultApiRoute=function(e,t,r){try{return Promise.resolve(function(){if("GET"===e.method){if("autocomplete_options"===e.query.op.toString()){var n=e.query,a=n.options_id,o=r.buildUrl("/webform_rest/"+n.id.toString()+"/autocomplete_options/"+a+"?_format=json");return Promise.resolve(r.fetch(o.toString(),{headers:{"Content-Type":"application/json"}})).then(function(e){var r;function n(n){if(r)return n;var a=t.end;return Promise.resolve(e.json()).then(function(e){return a.call(t,JSON.stringify(e)),t.status(200),t})}var a=function(){if(!e.ok)return Promise.resolve(e.json()).then(function(n){var a=t.status(e.status).json({message:n});return r=1,a})}();return a&&a.then?a.then(n):n(a)})}return t.end("{}"),t.status(404),t}return function(){if("POST"===e.method){var n=r.buildUrl("/webform_rest/submit?_format=json");return Promise.resolve(r.fetch(n.toString(),{method:"POST",body:JSON.stringify(e.body),headers:{"Content-Type":"application/json"}})).then(function(e){var r;function n(n){return r?n:(t.end(JSON.stringify(e)),t.status(200),t)}var a=function(){if(!e.ok)return Promise.resolve(e.json()).then(function(n){var a=t.status(e.status).json({message:n});return r=1,a})}();return a&&a.then?a.then(n):n(a)})}}()}())}catch(e){return Promise.reject(e)}},exports.WebformError=We,exports.WebformHeight=function(e){var t=e.element,r=e.value,a=e.setValue,o=function(e){try{var t;return a(d({},r,((t={})[e.target.name]=e.target.value,t))),Promise.resolve()}catch(e){return Promise.reject(e)}};/*#__PURE__*/return n.jsx(Y,{labelFor:t["#key"],label:t["#title"],isRequired:t["#required"],access:t["#access"],settings:null,error:e.error,children:/*#__PURE__*/n.jsxs("div",{style:{display:"inline-flex",alignItems:"center"},children:[/*#__PURE__*/n.jsx("input",{type:"number",name:"feet",min:0,max:8,onChange:function(e){return o(e)}}),/*#__PURE__*/n.jsx("label",{style:{padding:"0.5em"},children:"feet"}),/*#__PURE__*/n.jsx("input",{type:"number",name:"inches",min:0,max:11,onChange:function(e){return o(e)}}),/*#__PURE__*/n.jsx("label",{style:{padding:"0.5em"},children:"inches"})]})})},exports.arrayMerge=D,exports.checkDateMinMax=R,exports.components=Re,exports.convertDateToISO=M,exports.cssStringToObject=F,exports.defaultOnSubmit=I,exports.getChildElements=x,exports.getCurrentError=function(e,t){return e||("string"==typeof t||/*#__PURE__*/s.isValidElement(t)?t:void 0)},exports.getIndexOfMultiValue=N,exports.getNormalizedErrorMessages=j,exports.isFunction=C,exports.isInteger=S,exports.isIterable=q,exports.isObject=O,exports.normalizeElements=z,exports.reactPropertyMap=T,exports.resolvePath=V,exports.resolveWebformContent=function(e,t,r){try{var n=t.buildUrl("/webform/"+e+"?_format=json"),a=t.buildUrl("/webform_rest/"+e+"/elements?_format=json");return Promise.resolve(Promise.all([t.fetch(n.toString(),d({},r,{headers:{"Content-Type":"application/json"}})),t.fetch(a.toString(),d({},r,{headers:{"Content-Type":"application/json"}}))])).then(function(t){var r=t[0],n=t[1];function a(t){function a(t){return Promise.resolve(n.json()).then(function(t){var n=z(t);return Promise.resolve(r.json()).then(function(t){return{id:e,uuid:t.uuid,title:t.title,description:t.description,status:t.status,confirmation:{type:t.settings.confirmation_type,url:t.settings.confirmation_url,message:t.settings.confirmation_message},elements:n}})})}var o=function(){if(!n.ok)return Promise.resolve(n.json()).then(function(e){throw new Error(e)})}();return o&&o.then?o.then(a):a()}var o=function(){if(!r.ok)return Promise.resolve(r.json()).then(function(e){throw new Error(e)})}();return o&&o.then?o.then(a):a()})}catch(e){return Promise.reject(e)}},exports.setIn=P,exports.toKey=k,exports.toPath=w,exports.updateNameAndIdWithIndex=A,exports.useConstructor=E;
//# sourceMappingURL=index.js.map
