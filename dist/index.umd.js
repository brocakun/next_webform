!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("deepmerge"),require("strtotime"),require("react/jsx-runtime"),require("classnames")):"function"==typeof define&&define.amd?define(["exports","react","deepmerge","strtotime","react/jsx-runtime","classnames"],t):t((e||self).nextjsDrupalWebform={},e.react,e.deepmerge,e.strtotime,e.jsx,e.classnames)}(this,function(e,t,r,n,a,i){function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,t}var l=/*#__PURE__*/s(t),u=/*#__PURE__*/o(r),c=/*#__PURE__*/o(n),d=/*#__PURE__*/o(i);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function b(e,t,r){return b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&p(a,r.prototype),a},b.apply(null,arguments)}function h(e){var t="function"==typeof Map?new Map:void 0;return h=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return b(e,arguments,m(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},h(e)}function v(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(a[r]=e[r]);return a}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e){for(var t=Object.keys(e).length,r=0,n=[],a=0,i=Object.keys(e);a<i.length;a++){var o=i[a];if("#"!==o.charAt(0)&&"type"!==o){var s=e[o];n.push({weight:Math.floor(1e3*(void 0!==s["#weight"]?s["#weight"]:0))+r/t,key:o}),r++}}return n.sort(function(e,t){return e.weight-t.weight}),n.map(function(e){return e.key})}var x=/*#__PURE__*/l.createContext(null),j=function(e){/*#__PURE__*/return a.jsx("div",{dangerouslySetInnerHTML:{__html:e}})},w=function e(t){return t?Object.keys(t).reduce(function(r,n){var a=n.split("][");if(a.length>1)if(r[a[0]]||(r[a[0]]={}),2===a.length)"_item_"===a[1]?r[a[0]]=j(t[n]):r[a[0]][a[1]]=j(t[n]);else if("items"===a[1]||"_item_"===a[1]){var i,o=[].concat(a.slice(2)).join("][");r[a[0]]=f({},r[a[0]],e(((i={})[o]=t[n],i)))}else{var s,l=[].concat(a.slice(1)).join("][");r[a[0]]=f({},r[a[0]],e(f({},r[a[0]],((s={})[l]=t[n],s))))}else r[n]=j(t[n]);return r},{}):null};function k(e){return e.split("][")}function P(e){return e.filter(function(e){return"items"!==e&&"_item_"!==e}).join("][")}function O(e,t,r){for(var n=k(t),a=e,i=0;i<n.length;i++){var o=n[i];if(n.length-1===i)a[o]=r;else if(!a[o]){var s=n[i+1];a[o]=C(s)&&Number(s)>=0?[]:{}}a=a[o]}return e}function S(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}var C=function(e){return Number.isInteger(e)||String(Math.floor(Number(e)))===e},q=function(e){return"function"==typeof e};function E(e){return null!=e&&"function"==typeof e[Symbol.iterator]}var F=function(e){var r=t.useState(!1),n=r[1];r[0]||(e(),n(!0))},T=function(e){var t={};return"string"==typeof e&&e.replace(/(?<=^|;)\s*([^:]+)\s*:\s*([^;]+)\s*/g,function(e,r,n){var a=r.replace(/-./g,function(e){return e[1].toUpperCase()});return t[a]=n}),t},N={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap"},D=function(e){return e.match(/\[(\d.*?)\]/g).pop()},A=function(e,t,r){var n=e.slice();return t.forEach(function(t,a){void 0===n[a]?n[a]=r.cloneUnlessOtherwiseSpecified(t,r):r.isMergeableObject(t)?n[a]=u.default(e[a],t,r):-1===e.indexOf(t)&&n.push(t)}),n};function V(e,t){var r=_(t);if(r.length)for(var n,a=g(r);!(n=a()).done;){var i=n.value,o=t[i]["#id"],s=t[i]["#name"];if("]"===o.charAt(o.length-1)){var l=o.replace(/\[(.+?)\]/g,"["+e+"]"),u=s.replace(/\[(.+?)\]/g,"["+e+"]");t[i]["#id"]=l,t[i]["#name"]=u}else t[i]["#id"]=t[i]["#id"]+"["+e+"]",t[i]["#name"]=t[i]["#name"]+"["+e+"]";V(e,t[i])}}function R(e,t){return e.split(".").reduce(function(e,t){return e?e[t]:null},t||self)}var M=function(e,t){if(t["#date_date_min"]){var r=I(t["#date_date_min"]);if(c.default(e)<c.default(r))return"Date must be on or after "+r+"."}if(t["#date_date_max"]){var n=I(t["#date_date_max"]);if(c.default(e)>c.default(n))return"Date must be on or before "+n+"."}},I=function(e){return"today"===e?(new Date).toISOString().substring(0,10):"number"==typeof c.default(e)?new Date(e).toISOString().split("T")[0]:c.default(e).toISOString().substring(0,10)},W=function(e){var t=e.id,r=e.data,n=e.setData,a=e.setStatus,i=e.setErrors,o=e.apiUrl;try{var s=f({},r,{webform_id:t});return Promise.resolve(fetch(o,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}})).then(function(e){var t=function(){if(!e.ok)return a("error"),Promise.resolve(e.json()).then(function(e){i(w(e.message.error))});a("success"),n({}),i({})}();if(t&&t.then)return t.then(function(){})})}catch(e){return Promise.reject(e)}},z=["#process","#groups","#after_build","#pre_render","#value_callback","#theme_wrappers","#allowed_tags","#attached","#element_validate","#cache","#prefix","#suffix","#webform_children","#webform_parents","#array_parents","#autocomplete_route_parameters","#autocomplete_route_name","#ajax","#ajax_processed","#ajax_prefix","#ajax_suffix","#child_keys","#ajax_attributes","#tabledrag","#sorted","#processed","#after_build_done","#tree"],U=function e(t){return z.forEach(function(e){delete t[e]}),_(t).forEach(function(r){t[r]=e(t[r])}),t},H=function(e){return function(r){return t.useEffect(function(){r.value||!r.element["#default_value"]||r.element["#default_value"].headers||r.setValue(r.element["#default_value"])},[]),/*#__PURE__*/a.jsx(e,f({},r))}},L=function(e){var t=["id","data-drupal-selector","webform-remove-for-attribute"];return Object.keys(e).filter(function(e){return!t.includes(e)}).reduce(function(t,r){return"class"===r?t.className=d.default(e[r]):N[r]?t[N[r]]=e[r]:t[r]=e[r],t},{})},J=function(e){return function(t){var r,n,i,o,s,l,u=f({},L(null!=(r=t.element["#attributes"])?r:{}),null!=(n=t.fieldProps)?n:{});u.style&&(u.style=T(u.style));var c=f({},L(null!=(i=t.element["#label_attributes"])?i:{}),null!=(o=t.labelProps)?o:{});c.style&&(c.style=T(c.style));var d=f({},L(null!=(s=t.element["#wrapper_attributes"])?s:{}),null!=(l=t.wrapperProps)?l:{});return d.style&&(d.style=T(d.style)),/*#__PURE__*/a.jsx(e,f({},t,{fieldProps:u,labelProps:c,wrapperProps:d}))}};function G(e){var t=e.match(/\[name=["|']([A-z][A-z\d-_.:]*)["|']\]$/);return t&&t[1]}function B(e,t){if(S(e[Object.keys(e)[0]]))switch(Object.keys(e[Object.keys(e)[0]])[0]){case"pattern":return"string"==typeof t&&new RegExp(e.value.pattern).test(t);case"!pattern":return"string"==typeof t&&!new RegExp(e.value.pattern).test(t);case"less":return t<e.value.less;case"less_equal":return t<=e.value.less_equal;case"greater":return t>e.value.greater;case"greater_equal":return t>=e.value.greater_equal;case"between":case"!between":var r=e.value.between,n=r.substring(0,r.indexOf(":")),a=r.substring(r.indexOf(":"),r.length-1);return"between"==Object.keys(e)[0]?t>=n&&t<=a:t<n||t>a}else switch(e&&Object.keys(e)[0]){case"empty":return!t;case"filled":return!!t;case"checked":return 1==t;case"unchecked":return 0==t;case"value":return t==e.value;case"!value":return t!=e.value}}var K=function(e){switch(e){case"invisible":case"invisible-slide":case"!visible":return{"#access":!1};case"visible":case"visible-slide":case"!invisible":return{"#access":!0};case"enabled":case"!disabled":return{"#disabled":!1};case"disabled":case"!enabled":return{"#disabled":!0};case"required":case"!optional":return{"#required":!0};case"optional":case"!required":return{"#required":!1};case"checked":case"!unchecked":return{"#checked":!0};case"unchecked":case"!checked":return{"#unchecked":!0};case"readonly":case"!readwrite":return{"#readonly":!0};case"readwrite":case"!readonly":return{"#readonly":!1}}},X=function(e,t){var r=function(e,t){var r,n={},a={},i={};if(e&&!Object.keys(e).includes("headers")){r=e;for(var o=0,s=Object.keys(r);o<s.length;o++){var l=s[o];n[l]={},a[l]={},i[l]={};for(var u=0,c=Object.keys(r[l]);u<c.length;u++){var d=c[u];if(isNaN(Number(d))){var f,m=G(d);if(Object.prototype.hasOwnProperty.call(t,m)&&"string"!=typeof t[m]&&"boolean"!=typeof t[m]){console.warn('Unexpected type "'+typeof t[m]+'" for element "'+m+'"');continue}n[l][m]=B(r[l][d],null!=(f=t[m])?f:void 0)}else if("or"!==r[l][d]&&"xor"!==r[l][d]){var p,b=G(Object.keys(r[l][d])[0]),h=Object.values(r[l][d])[0];if(Object.prototype.hasOwnProperty.call(t,b)&&"string"!=typeof t[b]&&"boolean"!=typeof t[b]){console.warn('Unexpected type "'+typeof t[b]+'" for element "'+b+'"');continue}if(Object.values(r[l]).includes("or"))a[l][b]=B(h,null!=(p=t[b])?p:void 0);else if(Object.values(r[l]).includes("xor")){var v;i[l][b]=B(h,null!=(v=t[b])?v:void 0)}}}}}return{allConditionsForTrue:n,anyConditionForTrue:a,oneConditionForTrue:i,webformStates:r}}(e,t),n=r.allConditionsForTrue,a=r.anyConditionForTrue,i=r.oneConditionForTrue,o=r.webformStates;if(o&&0!==Object.keys(o).length&&Object.keys(o)[0].length){for(var s={},l=0,u=Object.keys(o);l<u.length;l++){var c=u[l];Object.keys(n[c]).length&&Object.values(n[c]).every(function(e){return!0===e})||Object.keys(a[c]).length&&Object.values(a[c]).includes(!0)||Object.keys(i[c]).length&&1==Object.values(i[c]).filter(function(e){return 1==e}).length?Object.assign(s,K(c)):Object.assign(s,K("!"+c))}return s}},$=function(e){return function(r){var n=t.useState({}),i=n[0],o=n[1],s=t.useContext(x).data,l=r.element,u=l.add?l["#_webform_states"]:l["#states"],c=function(e){if(!e||Object.keys(e).includes("headers"))return[];for(var t=[],r=0,n=Object.keys(e);r<n.length;r++)for(var a=n[r],i=0,o=Object.keys(e[a]);i<o.length;i++){var s=o[i];if(isNaN(Number(s))){var l=G(s);t.push(l)}else if("or"!==e[a][s]&&"xor"!==e[a][s]){var u=G(Object.keys(e[a][s])[0]);t.push(u)}}return t}(u);return t.useEffect(function(){o(X(u,s))},[]),t.useEffect(function(){o(X(u,s))},c.map(function(e){return s[e]})),/*#__PURE__*/a.jsx(e,f({},r,{element:f({},l,i)}))}},Y=["children","label","labelProps","labelFor","isRequired","description","descriptionDisplay","descriptionProps","labelDisplay","error","access"],Q=function(e){var t=e.children,r=e.label,n=e.labelProps,i=void 0===n?{}:n,o=e.labelFor,s=e.isRequired,l=e.description,u=e.descriptionDisplay,c=e.descriptionProps,m=void 0===c?{}:c,p=e.labelDisplay,b=void 0===p?"before":p,h=e.error,y=e.access,g=v(e,Y),_=d.default(i.className,{"required-field":s,"visually-hidden":"invisible"===b}),x=d.default(m.className,{"visually-hidden":"invisible"===u}),j=/*#__PURE__*/a.jsx("label",f({},i,{className:_,htmlFor:o,children:r}));return y?/*#__PURE__*/a.jsxs("div",f({},g,{children:[/*#__PURE__*/a.jsx("style",{suppressHydrationWarning:!0,children:"\n.required-field:after {\n  content: ' *';\n  color: red;\n}\n.invalid-feedback {\n  color: red;\n}\n.visually-hidden {\n  position: absolute !important;\n  clip: rect(1px, 1px, 1px, 1px);\n  overflow: hidden;\n  height: 1px;\n  width: 1px;\n  word-wrap: normal;\n}\n        "}),!["after","none"].includes(b)&&j,"before"===u&&l&&/*#__PURE__*/a.jsx("div",f({},m,{children:l})),t,("after"===u||"invisible"===u)&&l&&/*#__PURE__*/a.jsx("div",f({},m,{className:x,children:l})),"after"===b&&j,h&&/*#__PURE__*/a.jsx("div",{className:"invalid-feedback",children:h})]})):null},Z=["children","label","labelProps","labelDisplay","labelFor","description","descriptionDisplay","descriptionProps","isRequired","error","access"],ee=function(e){var t=e.children,r=e.label,n=e.labelProps,i=void 0===n?{}:n,o=e.description,s=e.descriptionDisplay,l=e.descriptionProps,u=void 0===l?{}:l,c=e.isRequired,m=e.error,p=e.access,b=v(e,Z),h=d.default(i.className,{"required-field":c}),y=d.default(u.className,{"visually-hidden":"invisible"===s}),g=/*#__PURE__*/a.jsx("legend",f({},i,{className:h,children:r}));return p?/*#__PURE__*/a.jsxs("fieldset",f({},b,{children:[/*#__PURE__*/a.jsx("style",{suppressHydrationWarning:!0,children:"\n.required-field:after {\n  content: ' *';\n  color: red;\n}\n.invalid-feedback {\n  color: red;\n}\n.visually-hidden {\n  position: absolute !important;\n  clip: rect(1px, 1px, 1px, 1px);\n  overflow: hidden;\n  height: 1px;\n  width: 1px;\n  word-wrap: normal;\n}\n        "}),g,"before"===s&&o&&/*#__PURE__*/a.jsx("div",f({},u,{className:y,children:o})),t,("after"===s||"invisible"===s)&&o&&/*#__PURE__*/a.jsx("div",f({},u,{className:y,children:o})),m&&/*#__PURE__*/a.jsx("div",{className:"invalid-feedback",children:m})]})):null},te=function(e,t){return void 0===t&&(t={}),function(r){var n=r.element,i=r.error,o=f({defaultWrapperType:"form_element",displayErrors:!0,labelFor:function(e){return e["#id"]},labelProps:{},wrapperProps:{}},"function"==typeof t?t(n):t),s=o.labelFor,u=o.displayErrors,c=n["#wrapper_type"]?n["#wrapper_type"]:o.defaultWrapperType,d="form_element"===c&&n["#title"]?n["#title_display"]:"none",m="string"==typeof i||/*#__PURE__*/l.isValidElement(i),p="fieldset"!==c?Q:ee,b=f({},r.labelProps,o.labelProps),h=f({},r.wrapperProps,o.wrapperProps);/*#__PURE__*/return a.jsx(p,f({label:n["#title"],isRequired:n["#required"],access:n["#access"],labelDisplay:d,error:u&&m?i:void 0,labelProps:b,description:n["#description"]?/*#__PURE__*/a.jsx("div",{dangerouslySetInnerHTML:{__html:n["#description"]["#markup"]}}):void 0,descriptionDisplay:n["#description_display"]},h,{labelFor:"none"!==d?function(){if("function"==typeof s)return s(n)}():void 0,children:/*#__PURE__*/a.jsx(e,f({},r))}))}},re=$(H(J(te(function(e){var r=e.element,n=e.setValue,i=e.value,o=void 0===i?"":i,s=e.fieldProps,l=t.useState({}),u=l[0],c=l[1],d=t.useState(null),m=d[0],p=d[1],b=t.useContext(x);return t.useEffect(function(){Array.isArray(r["#autocomplete_items"])?c(r["#autocomplete_items"].reduce(function(e,t){return e[t]=t,e},{})):"string"==typeof r["#autocomplete_items"]?function(){try{return Promise.resolve(fetch(b.apiUrl+"?op=autocomplete_options&id="+b.id+"&options_id="+r["#autocomplete_items"])).then(function(e){function t(t){return Promise.resolve(e.json()).then(function(e){c(e)})}var r=function(){if(!e.ok)return Promise.resolve(e.json()).then(function(e){throw Error(e.message.message)})}();return r&&r.then?r.then(t):t()})}catch(e){return Promise.reject(e)}}():console.warn("Unsupported autocomplete type on element "+r["#name"]+".")},[r["#autocomplete_items"]]),t.useEffect(function(){p(o)},[o]),/*#__PURE__*/a.jsxs(a.Fragment,{children:[/*#__PURE__*/a.jsx("input",f({type:"text",name:r["#webform_key"],onChange:function(e){return function(e){try{return n(u[e.target.value]?e.target.value:""),p(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:r["#disabled"],hidden:!r["#access"],required:r["#required"],readOnly:r["#readonly"],value:null!=m?m:o},s,{id:""+r["#id"],list:r["#webform_key"]+"-datalist"})),/*#__PURE__*/a.jsx("datalist",{id:r["#webform_key"]+"-datalist",children:Object.keys(u).map(function(e,t){/*#__PURE__*/return a.jsx("option",{value:e,children:u[e]},t)})})]})})))),ne={number:"number",hidden:"hidden",email:"email",search:"search",tel:"tel",url:"url",textfield:"text"},ae=$(H(J(te(function(e){var t,r=e.element,n=e.value,i=void 0===n?"":n,o=e.setValue,s=e.fieldProps;return r["#type"]in ne||console.warn(r["#type"]+" which was used on "+r["#webform_key"]+" is not supported by WebformText."),/*#__PURE__*/a.jsx(a.Fragment,{children:/*#__PURE__*/a.jsx("input",f({type:null!=(t=ne[r["#type"]])?t:r["#type"],name:r["#name"],value:i,onChange:function(e){return function(e){try{return o(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:r["#disabled"],hidden:!r["#access"],required:r["#required"],readOnly:r["#readonly"],placeholder:r["#placeholder"]},s,{id:r["#id"]}))})})))),ie=$(H(J(te(function(e){var r=e.element,n=e.setValue,i=e.value,o=void 0===i?"":i,s=e.fieldProps,l=t.useState(!1),u=l[0],c=l[1],d="webform_select_other"===r["#type"]?function(){for(var e={},t=0,n=Object.keys(r);t<n.length;t++){var a=n[t];"select"==a&&(e=r[a])}return e}():null;/*#__PURE__*/return a.jsxs(a.Fragment,{children:[/*#__PURE__*/a.jsxs("select",f({name:r["#name"],onChange:function(e){return function(e){try{return"Other"==e.target.value?c(!u):u?(c(!u),n(e.target.value)):n(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},value:o,disabled:r["#disabled"],hidden:!r["#access"],required:r["#required"]},s,{id:r["#id"],children:["select"==r["#webform_plugin_id"]||void 0===r["#webform_plugin_id"]&&"webform_select_other"!==r["#type"]?function(e){for(var t,r=[],n=0,a=Object.keys(e);n<a.length;n++){var i=a[n];i.length?r.push(e[i]):t=e[i]}return r.unshift(t),r}(r["#options"]).map(function(e,t){/*#__PURE__*/return a.jsx("option",{value:e,children:e},t)}):null,"webform_entity_select"==r["#webform_plugin_id"]?Object.keys(r["#options"]).map(function(e){/*#__PURE__*/return a.jsx("option",{value:e,children:r["#options"][e]},e)}):null,"webform_select_other"===r["#type"]&&d["#options"]?/*#__PURE__*/a.jsxs(a.Fragment,{children:[Object.values(d["#options"]).map(function(e,t){if("Other…"!=e)/*#__PURE__*/return a.jsx("option",{value:e.toString(),children:e},t)}),/*#__PURE__*/a.jsx("option",{value:"Other",children:"Other..."})]}):null]})),u?/*#__PURE__*/a.jsx("input",{type:"text",id:r["#webform_key"],name:r["#webform_key"],onInput:function(e){return function(e){try{return n(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},value:o}):null]})})))),oe=$(H(J(te(function(e){var t=e.element,r=e.value,n=e.setValue;/*#__PURE__*/return a.jsx(a.Fragment,{children:/*#__PURE__*/a.jsx("textarea",f({name:t["#webform_key"],value:void 0===r?"":r,onChange:function(e){return function(e){try{return n(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:t["#disabled"],hidden:!t["#access"],required:t["#required"],readOnly:t["#readonly"],placeholder:t["#placeholder"]},e.fieldProps,{id:t["#id"]}))})})))),se=function(e){/*#__PURE__*/return a.jsxs("code",{children:[e.error,/*#__PURE__*/a.jsx("pre",{children:JSON.stringify(e.element,null,2)})]})},le=function(e){var r=t.useContext(x).registry,n=e.element,i=e.error;if(r.getComponent(n["#type"])){var o=r.getComponent(n["#type"]);/*#__PURE__*/return a.jsx(o,f({},e))}/*#__PURE__*/return a.jsx(se,{element:n,error:i})},ue=$(J(te(function(e){var r=e.element,n=e.value,i=e.setValue,o=e.error,s=e.tableProps,l=void 0===s?{}:s,u=e.trProps,c=void 0===u?{}:u,d=e.tdProps,m=void 0===d?{}:d,p=Array.isArray(n)?n:[],b="webform_custom_composite"===r["#type"],h=function(e,t,n){void 0===n&&(n=null);var s=[].concat(r["#parents"],["items",e,"_item_"]),l=f({},t,r.items[e]?{"#access":r["#access"],"#states":r["#_webform_states"],"#parents":s}:{"#default_value":void 0,"#access":r["#access"],"#states":r["#_webform_states"],"#parents":s});/*#__PURE__*/return a.jsx(le,{element:l,setValue:function(t){var r=Array.from(p);n?r[e][n]=t:r[e]=t,i(r)},value:n?p[e][n]:p[e],error:o?o[e]:null},l["#id"])},v=function(e){var t=_(r["#element"]),n=r.items[e]?e:0;if(Array.isArray(t)&&t.length)return t.map(function(t){var a=R(r.items[n]._item_?"items."+n+"._item_."+t:"items."+n+"."+t,r),i=f({},a,{"#webform_key":t,"#id":a["#id"]+"["+e+"]"}),o=JSON.parse(JSON.stringify(i));return V(e,o),h(e,o,t)});var a=f({},r.items[n]._item_,{"#webform_key":r.items[n]._item_["#webform_key"]+"["+e+"]","#id":r.items[n]._item_["#webform_key"]+"["+e+"]"});return h(e,a)},y=r["#cardinality"],g=p.length;t.useEffect(function(){0===g&&(r["#default_value"]&&Array.isArray(r["#default_value"])?i(r["#default_value"]):i([""]))},[]);for(var x=[],j=function(e){var t=f({},r.items[0]._operations_.remove,{"#type":"button","#value":"Remove","#attributes":{class:["webform-button--remove"]}});x.push(/*#__PURE__*/a.jsxs("tr",f({},c,{children:[/*#__PURE__*/a.jsx("td",f({},m,{children:v(e)})),/*#__PURE__*/a.jsx("td",f({},m,{children:/*#__PURE__*/a.jsx(le,{element:t,fieldProps:{onClick:function(t){t.preventDefault(),function(e){if(!E(n))throw new TypeError('"'+typeof n+'" is not iterable');var t=[].concat(n);t.splice(e,1),i(t)}(e)},id:r["#webform_key"]+"-remove-btn-"+e}})}))]}),e))},w=0;w<g;w++)j(w);/*#__PURE__*/return a.jsxs(a.Fragment,{children:[/*#__PURE__*/a.jsx("table",f({style:{width:"100%"}},l,{children:/*#__PURE__*/a.jsx("tbody",{children:x})})),(g<y||!y)&&/*#__PURE__*/a.jsx("div",{children:/*#__PURE__*/a.jsx(le,{element:f({},r.add.submit,{"#type":"button","#attributes":{class:["webform-button--add"]}}),fieldProps:{onClick:function(e){e.preventDefault(),p.push(b?{}:""),i(p)},id:r["#webform_key"]+"-add-btn"}})})]})},{labelFor:!1}))),ce=H(te(function(e){var t=e.element,r=e.error,n=e.value,i=e.setValue,o=_(t);/*#__PURE__*/return a.jsx(a.Fragment,{children:o.map(function(e){/*#__PURE__*/return a.jsx(le,{element:f({"#webform_key":t["#webform_key"],"#states":t["#states"]},t[e],{"#id":t["#webform_multiple"]?""+t[e]["#id"]+D(t["#webform_key"]):t[e]["#id"]}),value:n&&n[e]?n[e]:"",setValue:function(t){var r;i(f({},n,((r={})[e]=t,r)))},error:r?r[e]:null},e)})})},{displayErrors:!1,defaultWrapperType:"fieldset"})),de=$(J(te(function(e){var r=e.element,n=e.fieldProps,i=t.useContext(x),o=i.data,s=i.setData,l=i.errors,u=_(r).map(function(e){var t=r["#states"]?f({},r[e]["#states"],r["#states"]):null;/*#__PURE__*/return a.jsx(le,{element:t?f({},r[e],{"#states":t}):r[e],error:l[r[e]["#webform_key"]],value:o[r[e]["#webform_key"]],setValue:function(t){s(function(n){var a;return f({},n,((a={})[r[e]["#webform_key"]]=t,a))})}},r[e]["#webform_key"])});/*#__PURE__*/return a.jsx(a.Fragment,{children:/*#__PURE__*/a.jsx("div",f({},n,{children:u}))})},{defaultWrapperType:"container"}))),fe=$(te(function(e){var r=e.element,n=e.itemProps,i=void 0===n?{}:n,o=t.useContext(x),s=o.data,l=o.setData,u=o.errors,c=f({style:{flexGrow:1}},i),d=_(r).map(function(e){var n=r["#states"]?f({},r[e]["#states"],r["#states"]):null;/*#__PURE__*/return t.createElement("div",f({},c,{key:r[e]["#webform_key"]}),/*#__PURE__*/a.jsx("div",{children:/*#__PURE__*/a.jsx(le,{element:n?f({},r[e],{"#states":n}):r[e],error:u[r[e]["#webform_key"]],value:s[r[e]["#webform_key"]],setValue:function(t){l(function(n){var a;return f({},n,((a={})[r[e]["#webform_key"]]=t,a))})}})},r[e]["#webform_key"]))});/*#__PURE__*/return a.jsx(a.Fragment,{children:d})},function(e){var t,r;return{wrapperProps:f({},L(null!=(t=e["#attributes"])?t:{}),{style:{display:"flex",boxSizing:"border-box",gap:"1rem",justifyContent:null!=(r=e["#align_items"])?r:"flex-start"}})}})),me=$(te(function(e){var r=e.element,n=t.useContext(x),i=n.data,o=n.setData,s=n.errors,l=_(r).map(function(e){var t=r["#states"]?f({},r[e]["#states"],r["#states"]):null;/*#__PURE__*/return a.jsx(le,{element:t?f({},r[e],{"#states":t}):r[e],error:s[r[e]["#webform_key"]],value:i[r[e]["#webform_key"]],setValue:function(t){o(function(n){var a;return f({},n,((a={})[r[e]["#webform_key"]]=t,a))})}},r[e]["#webform_key"])});/*#__PURE__*/return a.jsx(a.Fragment,{children:l})},{defaultWrapperType:"fieldset"})),pe=$(J(function(e){var r=e.element,n=e.error,i=e.labelProps,o=e.fieldProps,s=e.wrapperProps,l=void 0===s?{}:s,u=t.useContext(x),c=u.data,d=u.setData,m=u.errors,p=_(r).map(function(e){var t=r["#states"]?f({},r[e]["#states"],r["#states"]):null;/*#__PURE__*/return a.jsx(le,{element:t?f({},r[e],{"#states":t}):r[e],error:m[r[e]["#webform_key"]],value:c[r[e]["#webform_key"]],setValue:function(t){d(function(n){var a;return f({},n,((a={})[r[e]["#webform_key"]]=t,a))})}},r[e]["#webform_key"])});/*#__PURE__*/return a.jsx(Q,f({label:r["#title"],isRequired:r["#required"],labelDisplay:r["#title_display"],access:r["#access"],settings:null,error:n,labelProps:i},l,{children:/*#__PURE__*/a.jsx("section",f({},o,{style:o.style,children:p}))}))})),be=["data"],he=$(J(function(e){var r=e.element,n=e.error,i=e.wrapperProps,o=void 0===i?{}:i,s=e.fieldProps,l=void 0===s?{}:s,u=e.theadProps,c=void 0===u?{}:u,d=e.tbodyProps,m=void 0===d?{}:d,p=e.trProps,b=void 0===p?{}:p,h=e.tdProps,y=void 0===h?{}:h,g=e.labelProps,x=_(r).map(function(e){return"webform_table_row"!==r[e]["#type"]?/*#__PURE__*/a.jsx("tr",{children:/*#__PURE__*/a.jsx("td",{children:/*#__PURE__*/a.jsxs("div",{children:["The form element ",/*#__PURE__*/a.jsx("em",{children:e})," is not inside a table row. To render the form element, it must be placed inside a table row."]})})},e):/*#__PURE__*/a.jsx(le,{element:f({},r[e],{"#states":r["#states"]}),fieldProps:b,tdProps:y},e)}),j=r["#header"];/*#__PURE__*/return a.jsx(Q,f({label:r["#title"],isRequired:r["#required"],labelDisplay:r["#title_display"],access:r["#access"],settings:null,error:n,labelProps:g},o,{children:/*#__PURE__*/a.jsxs("table",f({},l,{children:[/*#__PURE__*/a.jsx("thead",f({},c,{children:/*#__PURE__*/a.jsx("tr",f({},b,{children:j&&j.length?j.map(function(e,r){var n=e.data,a=v(e,be);/*#__PURE__*/return t.createElement("th",f({},L(a),{key:r}),n["#markup"])}):null}))})),/*#__PURE__*/a.jsx("tbody",f({},m,{children:x}))]}))}))})),ve=$(H(J(te(function(e){var t=e.element,r=e.value,n=void 0===r?0:r,i=e.setValue,o=e.fieldProps,s=/*#__PURE__*/a.jsx("output",{htmlFor:t["#id"],style:{below:{transform:"translateX("+n+"px)",display:"block",position:"absolute",padding:"2px 5px",textAlign:"center",border:"1px solid #bbb",background:"#ededed"},above:{transform:"translateX("+n+"px)",display:"block",position:"absolute",padding:"2px 5px",textAlign:"center",border:"1px solid #bbb",background:"#ededed",bottom:"22px"},left:{marginRight:"5px"},right:{marginLeft:"5px"}}[t["#output"]],name:"result",children:n});/*#__PURE__*/return a.jsxs("div",{className:"form-type-range",style:{display:"block",position:"relative"},children:[t["#output"]&&"left"===t["#output"]?s:null,/*#__PURE__*/a.jsx("input",f({type:t["#type"],name:t["#webform_key"],min:t["#min"]?t["#min"]:null,max:t["#max"]?t["#max"]:null,onChange:function(e){return function(e){try{return i(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:t["#disabled"],hidden:!t["#access"],required:t["#required"],readOnly:t["#readonly"]},o,{id:t["#id"],value:n})),t["#output"]&&"left"!==t["#output"]?s:null]})})))),ye=$(H(J(te(function(e){var r=e.element,n=e.setValue,i=e.fieldProps,o=e.value;"checkbox"!==r["#type"]&&"radio"!==r["#type"]&&console.warn(r["#type"]+" which was used on "+r["#webform_key"]+" is not supported by WebformCheckbox.");var s=t.useState(null!=o?o:!!r["#checked"]&&r["#checked"]),l=s[0],u=s[1];return t.useEffect(function(){"boolean"==typeof o&&u(o)},[o]),/*#__PURE__*/a.jsx(a.Fragment,{children:/*#__PURE__*/a.jsx("div",{children:/*#__PURE__*/a.jsx("input",f({type:r["#type"],name:r["#name"],onChange:function(e){return function(e){try{return n(e.target.checked),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:r["#disabled"],hidden:!(!r["#access"]||r["#access"]),required:r["#required"],readOnly:r["#readonly"],checked:l,id:r["#id"]},i,{value:r["#return_value"]}))})})},{wrapperProps:{style:{display:"flex"}}})))),ge=$(H(te(function(e){var r=e.element,n=e.value,i=void 0===n?0:n,o=e.setValue,s=e.fieldProps,l=t.useState(0),u=l[0],c=l[1],d=r["#max"]?r["#max"]:5;/*#__PURE__*/return a.jsx(a.Fragment,{children:/*#__PURE__*/a.jsxs("div",{className:"star-rating",children:[/*#__PURE__*/a.jsx("input",f({defaultValue:i,name:r["#webform_key"],hidden:!0,type:"range"},s,{id:r["#webform_key"]})),/*#__PURE__*/a.jsx("style",{suppressHydrationWarning:!0,children:"\nbutton {\n  backgroundColor: 'transparent',\n  border: 'none',\n  outline: 'none',\n  cursor: 'pointer',\n}\n.on {\n  color: rgb(14 165 233);\n  }\n.off {\ncolor: #ccc;\n}\n.star-rating {\nfont-size: 2rem;\n}\n}"}),Array(d).fill(0).map(function(e,t){/*#__PURE__*/return a.jsx("button",{type:"button",className:(t+=1)<=(u||i)?"on":"off",onClick:function(){return o(t)},onMouseEnter:function(){return c(t)},onMouseLeave:function(){return c(i)},disabled:r["#disabled"],hidden:!r["#access"],children:/*#__PURE__*/a.jsx("span",{className:"star",children:"★"})},t)})]})})}))),_e=$(H(J(function(e){var r=e.element,n=e.error,i=e.setValue,o=e.labelProps,s=e.value,u=e.fieldProps,c=e.wrapperProps,d=void 0===c?{}:c,m=t.useContext(x).registerField,p=t.useState(""),b=p[0],h=p[1],v=t.useState(""),y=v[0],g=v[1];l.useEffect(function(){r["#parents"]&&m(P(r["#parents"]),{validate:function(){if(b!==y)return"The specified email addresses do not match."}})}),t.useEffect(function(){""!==s&&(h(s),g(s))},[s]),t.useEffect(function(){i(b&&y?b!==y?"":b:"")},[b,y]);var j=_(r).map(function(e){/*#__PURE__*/return a.jsx(le,{element:f({},r[e],{"#states":r["#states"]}),error:n?n[e]:null,value:"mail_1"===e?b:y,setValue:function(t){"mail_1"===e?h(t):"mail_2"===e&&g(t)},labelProps:o,fieldProps:u},e)});/*#__PURE__*/return a.jsx(Q,f({isRequired:!1,labelDisplay:"none",error:n,access:r["#access"]},d,{children:j}))}))),xe=$(function(e){var t=e.element,r=e.fieldProps,n=e.labelProps,i=e.wrapperProps;/*#__PURE__*/return a.jsx(Q,f({label:t["#title"],isRequired:t["#required"],labelDisplay:t["#title_display"],access:t["#access"],settings:null,error:e.error,labelProps:void 0===n?{}:n},void 0===i?{}:i,{labelFor:t["#webform_key"],children:/*#__PURE__*/a.jsx("div",f({},void 0===r?{}:r,{id:t["#webform_key"],children:t["#value"]}))}))}),je=function(e){var t=function(t){e.onClose&&e.onClose(t)};return e.show?/*#__PURE__*/a.jsxs("div",{className:"modal",id:"modal",onClick:t,children:[/*#__PURE__*/a.jsx("style",{suppressHydrationWarning:!0,children:'\n.modal {\n    width: 500px;\n    background: white;\n    border: 1px solid #ccc;\n    transition: 1.1s ease-out;\n    box-shadow: -2rem 2rem 2rem rgba(0, 0, 0, 0.2);\n    filter: blur(0);\n    transform: translate(-50%, -5%);\n    visibility: visible;\n    position: absolute;\n    opacity: 1;\n    left: 50%;\n    z-index: 100;\n}\n.modal.off {\n    opacity: 0;\n    visibility: hidden;\n    filter: blur(8px);\n    transform: scale(0.33);\n    box-shadow: 1rem 0 0 rgba(0, 0, 0, 0.2);\n}\n@supports (offset-rotation: 0deg) {\n    offset-rotation: 0deg;\n    offset-path: path("M 250,100 S -300,500 -700,-200");\n    .modal.off {\n        offset-distance: 100%;\n    }\n}\n@media (prefers-reduced-motion) {\n    .modal {\n        offset-path: none;\n    }\n}\n.modal h2 {\n    border-bottom: 1px solid #ccc;\n    padding: 1rem;\n    margin: 0;\n}\n.modal .content {\n    padding: 1rem;\n}\n.modal .actions {\n    border-top: 1px solid #ccc;\n    background: #eee;\n    padding: 0.5rem 1rem;\n}\n#centered-toggle-button {\n    position: absolute;\n}\n\n'}),/*#__PURE__*/a.jsx("div",{className:"content",children:e.children}),/*#__PURE__*/a.jsx("div",{className:"actions",children:/*#__PURE__*/a.jsx("button",{className:"toggle-button",onClick:t,children:"Close"})})]}):null},we=$(H(J(te(function(e){var r=e.element,n=e.setValue,i=e.fieldProps,o=e.labelProps,s=t.useState(!1),l=s[0],u=s[1],c=t.useState(!!r["#checked"]&&r["#checked"]),d=c[0],m=c[1],p=t.useState(!r["#access"]||r["#access"]);/*#__PURE__*/return a.jsx(a.Fragment,{children:/*#__PURE__*/a.jsxs("div",{children:[/*#__PURE__*/a.jsx("input",f({type:"checkbox",id:r["#id"],name:r["#webform_key"],onChange:function(e){return function(e){try{return m(!d),n(e.target.value?"1":"0"),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:r["#disabled"],hidden:!p[0],required:r["#required"],readOnly:r["#readonly"],checked:d},i)),/*#__PURE__*/a.jsx(je,{onClose:function(){return u(!1)},show:l,children:/*#__PURE__*/a.jsx("div",{dangerouslySetInnerHTML:{__html:r["#terms_content"]["#markup"]}})}),/*#__PURE__*/a.jsx("label",f({htmlFor:r["#id"]},o,{children:function(){var e=new RegExp(/(.*){(.*)}(.*)/);if(!e.test(r["#title"]))/*#__PURE__*/return a.jsx(a.Fragment,{children:r["#title"]});var t=e.exec(r["#title"]);/*#__PURE__*/return a.jsxs(a.Fragment,{children:[t[1],/*#__PURE__*/a.jsx("a",{href:"#terms",role:"button",target:"_blank",className:"terms-link",onClick:function(e){e.preventDefault(),u(!l)},children:t[2]}),t[3]]})}()}))]})})},{labelProps:{style:{display:"none"}}})))),ke=$(H(J(function(e){var r=e.element,n=e.setValue,i=e.value,o=e.error,s=e.fieldProps,u=e.labelProps,c=e.wrapperProps,d=void 0===c?{}:c,m=t.useContext(x).registerField,p=(null!=i?i:"").split("T"),b=p[0],h=void 0===b?"":b,v=p[1],y=void 0===v?"":v,g={date:h,time:y};l.useEffect(function(){r["#parents"]&&m(P(r["#parents"]),{validate:function(e){if(e){var t=new RegExp("^((19|20)\\d{2})-((0|1)\\d{1})-((0|1|2)\\d{1})T(2[0-3]|[01][0-9]):[0-5][0-9]"),r=new RegExp("^((19|20)\\d{2})-((0|1)\\d{1})-((0|1|2)\\d{1})T(2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9]");return t.test(e)||r.test(e)?void 0:"The value is invalid. Please fill out every field."}}})},[]);var j=_(r);/*#__PURE__*/return a.jsx(Q,f({label:r["#title"],labelDisplay:r["#title_display"],access:r["#access"],isRequired:!1,error:o},d,{children:/*#__PURE__*/a.jsx("div",{id:r["#id"],children:j.map(function(e){/*#__PURE__*/return a.jsx(le,{element:f({},r[e],{"#webform_key":r["#webform_key"],"#access":r[e]["#access"]?r[e]["#access"]:r["#access"],"#disabled":r["#disabled"],"#required":r["#required"],"#date_date_min":r["#date_date_min"],"#date_date_max":r["#date_date_max"],"#date_time_min":r["#date_time_min"],"#date_time_max":r["#date_time_max"],"#states":r["#states"]}),error:o?o[e]:null,setValue:function(t){n(("date"===e?t:h)+"T"+("time"===e?t:y))},labelProps:u,fieldProps:s,value:g[e]?g[e]:""},e)})})}))}))),Pe=$(H(J(te(function(e){var t,r,n=e.element,i=e.setValue,o=e.value;/*#__PURE__*/return a.jsx(a.Fragment,{children:/*#__PURE__*/a.jsx("input",f({type:"time",name:n["#name"],onChange:function(e){return function(e){try{return i(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},disabled:n["#disabled"],hidden:!n["#access"],required:n["#required"],readOnly:n["#readonly"],value:void 0===o?"":o},e.fieldProps,{id:n["#id"],min:null!=(t=n["#date_time_min"])?t:null,max:null!=(r=n["#date_time_max"])?r:null}))})})))),Oe=$(H(J(function(e){var r=e.element,n=e.error,i=e.setValue,o=e.fieldProps,s=e.labelProps,u=e.wrapperProps,c=void 0===u?{}:u,d=t.useState({}),m=d[0],p=d[1],b=_(r),h=t.useContext(x).registerField;l.useEffect(function(){r["#parents"]&&h(P(r["#parents"]),{validate:function(e){if(e){var t=new RegExp("^((19|20)\\d{2})-((0|1)\\d{1})-((0|1|2)\\d{1})T(2[0-3]|[01][0-9]):[0-5][0-9]"),n=new RegExp("^((19|20)\\d{2})-((0|1)\\d{1})-((0|1|2)\\d{1})T(2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9]");return t.test(e)||n.test(e)?M(e,r):"The value is invalid. Please fill out every field."}}})},[]),t.useEffect(function(){if(Object.keys(m)[0]&&Object.values(m).every(function(e){return null!==e})){var e,t,n=m.ampm&&"pm"===m.ampm;if(e=m.hour?n?m.hour+12:m.hour:n?12:"00",m.month){var a=r.month["#options"];t=Object.keys(a).find(function(e){return a[e]===m.month})}else t="1";var o=m.day?m.day:"1",s=m.year?m.year:(new Date).getFullYear(),l=e,u=m.minute?m.minute:"00",c=m.second?m.second:null;i(c?s+"-"+v(t)+"-"+v(o)+"T"+v(l)+":"+u+":"+c:s+"-"+v(t)+"-"+v(o)+"T"+v(l)+":"+u)}else Object.values(m).some(function(e){return null!==e})&&i(m)},[m]),t.useEffect(function(){b.map(function(e){p(function(t){var r;return f({},t,((r={})[e]=null,r))})})},[]);var v=function(e){return e<=9?e="0"+e:e};/*#__PURE__*/return a.jsx(Q,f({label:r["#title"],labelDisplay:r["#title_display"],access:r["#access"],isRequired:!1,error:n},c,{children:/*#__PURE__*/a.jsx("div",{id:r["#id"],children:b.map(function(e,t){/*#__PURE__*/return a.jsx(le,{element:f({},r[e],{"#webform_key":r["#webform_key"],"#disabled":r["#disabled"],"#access":r["#access"],"#required":r["#required"],"#states":r["#states"]}),error:n?n[e]:null,setValue:function(t){var r;p(f({},m,((r={})[e]=t,r)))},labelProps:s,fieldProps:o,value:m[e]?m[e]:""},t)})})}))}))),Se=$(H(J(te(function(e){var r=e.element,n=e.setValue,i=e.value,o=void 0===i?"":i,s=e.fieldProps,u=t.useContext(x).registerField;return l.useEffect(function(){r["#parents"]&&u(P(r["#parents"]),{validate:function(e){if(e)return M(e,r)}})},[]),/*#__PURE__*/a.jsx(a.Fragment,{children:/*#__PURE__*/a.jsx("input",f({onChange:function(e){return function(e){try{return n(e.target.value),Promise.resolve()}catch(e){return Promise.reject(e)}}(e)},type:r["#type"],name:r["#name"],disabled:r["#disabled"],hidden:!r["#access"],required:r["#required"],readOnly:r["#readonly"],value:o},s,{id:r["#id"],min:r["#date_date_min"]?I(r["#date_date_min"]):null,max:r["#date_date_max"]?I(r["#date_date_max"]):null}))})})))),Ce=$(H(function(e){var t=e.element;return!1===t["#access"]?null:/*#__PURE__*/a.jsx("div",{children:/*#__PURE__*/a.jsx("label",{children:t["#title"]})})})),qe=function(e){var r=e.element,n=e.wrapperProps,i=[],o=t.useContext(x),s=o.setData,l={submit:function(){},reset:function(e){e.preventDefault(),s(function(){return{}})}},u=o.registry.getComponent("button");return Object.keys(l).forEach(function(e){r[e]&&i.push(/*#__PURE__*/a.jsx(u,{element:r[e],fieldProps:{type:"submit",onClick:l[e]}},e))}),/*#__PURE__*/a.jsx("div",f({},n,{children:i}))},Ee={radios:"radio",checkboxes:"checkbox",webform_radios_other:"radio",webform_checkboxes_other:"checkbox",webform_entity_checkboxes:"checkbox",webform_entity_radios:"radio"},Fe=$(J(te(function(e){var r=e.element,n=e.value,i=void 0===n?[]:n,o=e.setValue,s=e.error,l=e.fieldProps;if(!(r["#type"]in Ee))throw new Error(r["#type"]+" which was used on "+r["#webform_key"]+" is not supported by WebformCheckboxRadioGroup.");var u=t.useState(null),c=u[0],d=u[1],m=t.useState(!1),p=m[0],b=m[1],h=Ee[r["#type"]],v="webform_checkboxes_other"===r["#type"]||"webform_radios_other"===r["#type"],y=v?r.other:null,x=function(){var e={},t={};if(v)for(var n=0,a=Object.keys(r);n<a.length;n++){var i=a[n];"radios"!==i&&"checkboxes"!==i||(e=r[i])}else e=r;for(var o=0,s=Object.keys(e["#options"]);o<s.length;o++){var l=s[o];"_other_"!==l&&(t[l]=e["#options"][l])}return t}();t.useEffect(function(){if(r["#default_value"]&&!r["#default_value"].headers){o(r["#default_value"]);var e="string"==typeof r["#default_value"]?[r["#default_value"]]:r["#default_value"],t=e.filter(function(e){return Object.hasOwn(x,e)});if("checkbox"===h&&o(t),v&&Object.keys(e).length!==Object.keys(t).length)for(var n,a=g(e);!(n=a()).done;){var i=n.value;Object.hasOwn(x,i)||d(i)}}},[]),t.useEffect(function(){c&&"checkbox"===h?o([].concat(Array.isArray(i)?i:[],[c])):c&&"radio"===h&&o(c)},[c]);var j=_(r).map(function(e){return"other"!==e&&"radios"!==e&&"checkboxes"!==e?/*#__PURE__*/a.jsx(le,{element:f({},r[e],{"#webform_key":r["#webform_key"],"#states":r["#states"],"#access":r["#access"]}),fieldProps:l,setValue:function(t){if("checkboxes"===r["#type"]||"webform_entity_checkboxes"===r["#type"]){if(!0===t)o([].concat(Array.isArray(i)?i:[],[r[e]["#return_value"]]));else if(Array.isArray(i)&&i.length){var n=i.filter(function(t){return t!==r[e]["#return_value"]});o(n)}}else o(r[e]["#return_value"])},value:Array.isArray(i)&&i.includes(r[e]["#return_value"])||i===r[e]["#return_value"],error:s},e):"checkboxes"==e||"radios"==e?_(r[e]).map(function(t){/*#__PURE__*/return a.jsx(le,{fieldProps:l,element:f({},r[e][t],{"#webform_key":r["#webform_key"],"#states":r["#states"],"#access":r["#access"]}),setValue:function(n){if("checkbox"===r[e][t]["#type"]){if("_other_"===r[e][t]["#return_value"])n?(d(null!=c?c:""),b(!0)):(b(!1),d(null));else if(!0===n)o([].concat(Array.isArray(i)?i:[],[r[e][t]["#return_value"]]));else if(Array.isArray(i)&&i.length){var a=i.filter(function(n){return n!==r[e][t]["#return_value"]});o(a)}}else"_other_"===r[e][t]["#return_value"]?(d(null!=c?c:""),o(null!=c?c:""),b(!0)):(b(!1),d(null),o(r[e][t]["#return_value"]))},value:Array.isArray(i)&&i.includes(r[e][t]["#return_value"])||i===r[e][t]["#return_value"]||"_other_"===r[e][t]["#return_value"]&&p,error:s},t)}):void 0});/*#__PURE__*/return a.jsxs(a.Fragment,{children:[j,v&&p?/*#__PURE__*/a.jsx(le,{element:f({},r,{"#type":y["#type"],"#webform_key":r["#webform_key"],"#title":y["#title"],"#description":y["#description"],"#id":r["#id"]+"-other-input"}),value:c,setValue:function(e){d(e)}}):null]})},{defaultWrapperType:"fieldset",labelFor:!1}))),Te=J(function(e){/*#__PURE__*/return a.jsx("button",f({type:"button"},e.fieldProps,{children:e.element["#value"]}))}),Ne=J(function(e){var r=e.element,n=e.error,i=e.fieldProps,o=void 0===i?{}:i,s=e.tdProps,l=void 0===s?{}:s,u=t.useContext(x),c=u.data,d=u.setData;/*#__PURE__*/return a.jsx("tr",f({},o,{children:_(r).map(function(e){var i,o=r["#states"]?f({},r[e]["#states"],r["#states"]):null,s=r["#states"]?Object.assign({},o,r["#states"]):o;/*#__PURE__*/return t.createElement("td",f({},f({},l,L(null!=(i=r[e]["#wrapper_attributes"])?i:{})),{key:e}),/*#__PURE__*/a.jsx(le,{element:f({},s?f({"#states":s},r[e]):r[e],{"#wrapper_attributes":[]}),error:n,value:c[r[e]["#webform_key"]],setValue:function(t){d(function(n){var a;return f({},n,((a={})[r[e]["#webform_key"]]=t,a))})}},e))})}))}),De=function(e){/*#__PURE__*/return a.jsx("pre",{children:/*#__PURE__*/a.jsx("code",{id:"submitted-data",children:JSON.stringify(e.submission)})})},Ae=$(J(te(function(e){var r=e.element,n=e.fieldProps,i=t.useContext(x),o=i.data,s=i.setData,l=i.errors,u=_(r).map(function(e){var t=r["#states"]?f({},r[e]["#states"],r["#states"]):null;/*#__PURE__*/return a.jsx(le,{element:f({},r[e],t?{"#states":t,"#access":!0}:{"#access":!0}),error:l[r[e]["#webform_key"]],value:o[r[e]["#webform_key"]],setValue:function(t){s(function(n){var a;return f({},n,((a={})[r[e]["#webform_key"]]=t,a))})}},r[e]["#webform_key"])});/*#__PURE__*/return a.jsx(a.Fragment,{children:/*#__PURE__*/a.jsx("div",f({},n,{children:u}))})},{defaultWrapperType:"container"}))),Ve=function(e){var r=e.elements,n=t.useState(0),i=n[0],o=n[1],s=_(r),l=r[s[i]],u=i>0,c=i===s.length-1,d=r.actions,m=function(e){if(l["#title"]==r[e]["#title"])return{color:"blue"}};/*#__PURE__*/return a.jsxs("div",{children:[/*#__PURE__*/a.jsx("ul",{style:{display:"flex"},children:s.map(function(e){/*#__PURE__*/return a.jsxs("li",{style:m(e),children:[r[e]["#title"],"----",">"]},e)})}),/*#__PURE__*/a.jsx("br",{}),/*#__PURE__*/a.jsxs("h1",{children:["Page Title: ",l["#title"]]}),/*#__PURE__*/a.jsxs("h1",{children:["Current page: ",i+1]}),/*#__PURE__*/a.jsx(Ae,{element:f({},l)}),u&&/*#__PURE__*/a.jsx("button",{style:{border:"solid"},type:"button",className:"webform-button--previous",onClick:function(){return o(function(e){return e-1})},children:"Previous"}),/*#__PURE__*/a.jsx("button",{style:{border:"solid"},type:"button",className:"webform-button--next",onClick:function(){return o(function(e){return e+1})},children:"Next"}),c&&/*#__PURE__*/a.jsx(le,{element:d})]})},Re=function e(t){return Object.entries(t).forEach(function(t){for(var r=0,n=Object.entries(t);r<n.length;r++){var a=n[r],i=a[0],o=a[1];"object"==typeof o&&null!==o&&Object.keys(o).includes("#access")&&(t[i]["#access"]=!0,e(t[i]))}}),!0},Me={textfield:ae,number:ae,hidden:ae,email:ae,search:ae,tel:ae,url:ae,textarea:oe,autocomplete:re,checkbox:ye,checkboxes:Fe,entity_autocomplete:re,range:ve,radio:ye,radios:Fe,select:ie,webform_autocomplete:re,webform_checkboxes_other:Fe,webform_entity_checkboxes:Fe,webform_entity_radios:Fe,webform_radios_other:Fe,webform_rating:ge,webform_select_other:ie,webform_terms_of_service:we,container:de,fieldset:me,webform_flexbox:fe,webform_section:pe,webform_table:he,webform_table_row:Ne,webform_address:ce,webform_contact:ce,webform_name:ce,webform_link:ce,webform_custom_composite:function(e){var r=e.element,n=e.error,i=e.value,o=e.setValue,s=e.labelProps,l=_(r["#element"]),u=!!r.add;return t.useEffect(function(){r["#default_value"]&&Array.isArray(r["#default_value"])?o(r["#default_value"]):o([{}])},[]),/*#__PURE__*/a.jsx(a.Fragment,{children:u?/*#__PURE__*/a.jsx(a.Fragment,{children:/*#__PURE__*/a.jsx(ue,{element:r,value:i,setValue:o,error:n})}):/*#__PURE__*/a.jsx(Q,{label:r["#title"],labelDisplay:r["#title_display"],access:r["#access"],isRequired:!1,error:n,children:l.map(function(e,t){var l=r.items[0][e];/*#__PURE__*/return a.jsx(le,{element:f({},l,{"#webform_key":e,"#states":r["#_webform_states"],"#id":l["#id"],"#default_value":void 0}),value:i&&i[0][e]?i[0][e]:"",setValue:function(t){var r,n;o(i&&i[0]?[f({},i[0],(r={},r[e]=t,r))]:[(n={},n[e]=t,n)])},error:n?n[e]:null,labelProps:s},t)})})})},date:Se,datelist:Oe,datetime:ke,webform_time:Pe,button:Te,submit:qe,item:Ce,value:xe,webform_actions:qe,webform_email_confirm:_e,webform_multiple:ue,confirmation_page:function(e){var t=e.webform;/*#__PURE__*/return a.jsx("div",{children:t.confirmation.message&&t.confirmation.message.length>0?t.confirmation.message:/*#__PURE__*/a.jsxs(a.Fragment,{children:["New submission added to ",/*#__PURE__*/a.jsx("em",{children:t.title}),"."]})})},form_layout:function(e){var r=e.webform,n=e.status,i=t.useContext(x),o=i.registry,s=i.setData,l=i.data,u=i.errors,c=r.elements,d=r.confirmation,m=_(c),p=m.some(function(e){return"webform_wizard_page"===c[e]["#type"]});t.useEffect(function(){"debug"===d.type&&"success"!==n&&window.localStorage.setItem("webformDebugData",JSON.stringify(l))},[l,n,d.type]);var b,h=function(){/*#__PURE__*/return a.jsx(a.Fragment,{children:m.map(function(e){/*#__PURE__*/return a.jsx(le,{element:c[e],setValue:function(t){s(function(r){var n;return f({},r,((n={})[c[e]["#webform_key"]]=t,n))})},value:l[c[e]["#webform_key"]],error:u[c[e]["#webform_key"]]},c[e]["#webform_key"])})})};if("success"===n){if("debug"===d.type){var v="undefined"==typeof window?l:JSON.parse(window.localStorage.getItem("webformDebugData"));/*#__PURE__*/return a.jsx(De,{submission:v})}if("page"===d.type||"inline"===d.type)return b=o.getComponent("confirmation_page"),/*#__PURE__*/a.jsx(b,{webform:r,submission:l});if("message"===d.type){var y=o.getComponent("message");/*#__PURE__*/return a.jsxs(a.Fragment,{children:[/*#__PURE__*/a.jsx(y,{type:"success",children:r.confirmation.message&&r.confirmation.message.length>0?r.confirmation.message:/*#__PURE__*/a.jsxs(a.Fragment,{children:["New submission added to ",/*#__PURE__*/a.jsx("em",{children:r.title}),"."]})}),h()]})}if("none"===d.type)return h()}if(p){for(var g=0,j=Object.entries(c);g<j.length;g++){var w=j[g],k=w[0],P=w[1];"object"==typeof P&&null!==P&&Object.keys(P).includes("#access")&&(c[k]["#access"]=!0,Re(c[k]))}/*#__PURE__*/return a.jsx(Ve,{elements:c})}return h()},message:function(e){/*#__PURE__*/return a.jsx("div",{children:e.children})},webform_wizard_page:Ae,webform_message:function(e){/*#__PURE__*/return a.jsx("div",{dangerouslySetInnerHTML:{__html:e.element["#message_message"]["#markup"]}})},webform_markup:function(e){/*#__PURE__*/return a.jsx("div",{dangerouslySetInnerHTML:{__html:e.element["#markup"]}})}},Ie=new function(e){var t=this;void 0===e&&(e={}),this._registry=void 0,this.getComponent=function(e){var r;return null!=(r=t._registry.get(e))?r:null},this.setComponent=function(e,r){t._registry.set(e,r)},this._registry=new Map,Object.keys(e).forEach(function(r){t._registry.set(r,e[r])})}(Me),We=["data","id","customComponents","onSubmit","apiUrl","validate"],ze=/*#__PURE__*/function(e){var t,r;function n(t){var r;return(r=e.call(this)||this).response=void 0,r.response=t,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,p(t,r),n}(/*#__PURE__*/h(Error));e.Webform=function(e){var r=e.data,n=e.id,i=e.customComponents,o=void 0===i?{}:i,s=e.onSubmit,c=e.apiUrl,d=void 0===c?"/api/webform":c,m=e.validate,p=v(e,We),b=Ie;F(function(){Object.keys(o).forEach(function(e){b.setComponent(e,o[e])})}),t.useEffect(function(){Object.keys(o).forEach(function(e){b.setComponent(e,o[e])})},[o]);var h=t.useState({}),y=h[0],g=h[1],_=t.useState(),j=_[0],w=_[1],k=t.useState({}),P=k[0],S=k[1],C=t.useRef({}),E=l.useCallback(function(e,t){C.current[e]={validate:t.validate}},[]),T=l.useCallback(function(e){delete C.current[e]},[]),N=s||W,D=b.getComponent("form_layout"),V=b.getComponent("message"),R=function(e){var t=Object.keys(C.current).filter(function(e){return q(C.current[e].validate)}),r=t.map(function(t){return r=t,n=e[t],new Promise(function(e){return e(C.current[r].validate(n))});var r,n});return Promise.all(r).then(function(e){return e.reduce(function(e,r,n){return void 0===r||O(e,t[n],r),e},{})})};/*#__PURE__*/return a.jsxs("form",f({},p,{onSubmit:function(e){var t;e.preventDefault(),(t=P,Promise.all([R(t),m?m(t):{}]).then(function(e){return u.default.all([e[0],e[1]],{arrayMerge:A})})).then(function(t){0!==Object.keys(t).length?(w("error"),g(t)):N({id:n,event:e,data:P,setData:S,setStatus:w,setErrors:g,apiUrl:d})})},children:["error"===j?/*#__PURE__*/a.jsx(V,{type:"error",children:"An error occurred. Please try again."}):null,/*#__PURE__*/a.jsx(x.Provider,{value:{id:n,apiUrl:d,data:P,setData:S,setStatus:w,errors:y,registry:b,registerField:E,unregisterField:T},children:/*#__PURE__*/a.jsx(D,{webform:r,status:j})})]}))},e.WebformContext=x,e.WebformDefaultApiRoute=function(e,t,r){try{return Promise.resolve(function(){if("GET"===e.method){if("autocomplete_options"===e.query.op.toString()){var n=e.query,a=n.options_id,i=r.buildUrl("/webform_rest/"+n.id.toString()+"/autocomplete_options/"+a+"?_format=json");return Promise.resolve(r.fetch(i.toString(),{headers:{"Content-Type":"application/json"}})).then(function(e){var r;function n(n){if(r)return n;var a=t.end;return Promise.resolve(e.json()).then(function(e){return a.call(t,JSON.stringify(e)),t.status(200),t})}var a=function(){if(!e.ok)return Promise.resolve(e.json()).then(function(n){var a=t.status(e.status).json({message:n});return r=1,a})}();return a&&a.then?a.then(n):n(a)})}return t.end("{}"),t.status(404),t}return function(){if("POST"===e.method){var n=r.buildUrl("/webform_rest/submit?_format=json");return Promise.resolve(r.fetch(n.toString(),{method:"POST",body:JSON.stringify(e.body),headers:{"Content-Type":"application/json"}})).then(function(e){var r;function n(n){return r?n:(t.end(JSON.stringify(e)),t.status(200),t)}var a=function(){if(!e.ok)return Promise.resolve(e.json()).then(function(n){var a=t.status(e.status).json({message:n});return r=1,a})}();return a&&a.then?a.then(n):n(a)})}}()}())}catch(e){return Promise.reject(e)}},e.WebformError=ze,e.WebformHeight=function(e){var t=e.element,r=e.value,n=e.setValue,i=function(e){try{var t;return n(f({},r,((t={})[e.target.name]=e.target.value,t))),Promise.resolve()}catch(e){return Promise.reject(e)}};/*#__PURE__*/return a.jsx(Q,{labelFor:t["#key"],label:t["#title"],isRequired:t["#required"],access:t["#access"],settings:null,error:e.error,children:/*#__PURE__*/a.jsxs("div",{style:{display:"inline-flex",alignItems:"center"},children:[/*#__PURE__*/a.jsx("input",{type:"number",name:"feet",min:0,max:8,onChange:function(e){return i(e)}}),/*#__PURE__*/a.jsx("label",{style:{padding:"0.5em"},children:"feet"}),/*#__PURE__*/a.jsx("input",{type:"number",name:"inches",min:0,max:11,onChange:function(e){return i(e)}}),/*#__PURE__*/a.jsx("label",{style:{padding:"0.5em"},children:"inches"})]})})},e.arrayMerge=A,e.checkDateMinMax=M,e.components=Me,e.convertDateToISO=I,e.cssStringToObject=T,e.defaultOnSubmit=W,e.getChildElements=_,e.getCurrentError=function(e,t){return e||("string"==typeof t||/*#__PURE__*/l.isValidElement(t)?t:void 0)},e.getIndexOfMultiValue=D,e.getNormalizedErrorMessages=w,e.isFunction=q,e.isInteger=C,e.isIterable=E,e.isObject=S,e.normalizeElements=U,e.reactPropertyMap=N,e.resolvePath=R,e.resolveWebformContent=function(e,t,r){try{var n=t.buildUrl("/webform/"+e+"?_format=json"),a=t.buildUrl("/webform_rest/"+e+"/elements?_format=json");return Promise.resolve(Promise.all([t.fetch(n.toString(),f({},r,{headers:{"Content-Type":"application/json"}})),t.fetch(a.toString(),f({},r,{headers:{"Content-Type":"application/json"}}))])).then(function(t){var r=t[0],n=t[1];function a(t){function a(t){return Promise.resolve(n.json()).then(function(t){var n=U(t);return Promise.resolve(r.json()).then(function(t){return{id:e,uuid:t.uuid,title:t.title,description:t.description,status:t.status,confirmation:{type:t.settings.confirmation_type,url:t.settings.confirmation_url,message:t.settings.confirmation_message},elements:n}})})}var i=function(){if(!n.ok)return Promise.resolve(n.json()).then(function(e){throw new Error(e)})}();return i&&i.then?i.then(a):a()}var i=function(){if(!r.ok)return Promise.resolve(r.json()).then(function(e){throw new Error(e)})}();return i&&i.then?i.then(a):a()})}catch(e){return Promise.reject(e)}},e.setIn=O,e.toKey=P,e.toPath=k,e.updateNameAndIdWithIndex=V,e.useConstructor=F});
//# sourceMappingURL=index.umd.js.map
